<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MarketConnect Pro - Conectando Compradores y Vendedores</title>
    <link rel="manifest" href="data:application/manifest+json,{
        \"name\": \"MarketConnect Pro\",
        \"short_name\": \"MarketConnect\",
        \"start_url\": \"/\",
        \"display\": \"standalone\",
        \"background_color\": \"#ffffff\",
        \"theme_color\": \"#4361ee\",
        \"icons\": [{
            \"src\": \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='45' fill='%234361ee'/%3E%3Ctext x='50' y='55' font-family='Arial' font-size='20' fill='white' text-anchor='middle'%3EMC%3C/text%3E%3C/svg%3E\",
            \"sizes\": \"192x192\",
            \"type\": \"image/svg+xml\"
        }]
    }">
    <style>
        :root {
            --primary: #4361ee;
            --primary-dark: #3a56d4;
            --secondary: #7209b7;
            --accent: #4cc9f0;
            --success: #2ecc71;
            --warning: #f39c12;
            --danger: #e74c3c;
            --dark: #2b2d42;
            --darker: #1a1c23;
            --light: #f8f9fa;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            --border-radius: 12px;
            --box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            --box-shadow-hover: 0 6px 25px rgba(0, 0, 0, 0.12);
            --transition: all 0.3s ease;
            --sidebar-width: 260px;
            --header-height: 72px;
            --mobile-menu-height: 64px;
            --gradient-primary: linear-gradient(135deg, var(--primary), var(--secondary));
            --gradient-secondary: linear-gradient(135deg, var(--secondary), #480ca8);
            --gradient-accent: linear-gradient(135deg, var(--accent), #4895ef);
            --gradient-success: linear-gradient(135deg, var(--success), #27ae60);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background-color: #f5f7fb;
            overflow-x: hidden;
        }

        /* Layout */
        #app {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        header {
            height: var(--header-height);
            background: white;
            box-shadow: var(--box-shadow);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            display: flex;
            align-items: center;
            padding: 0 24px;
            justify-content: space-between;
        }

        .logo {
            display: flex;
            align-items: center;
            font-weight: 800;
            font-size: 1.8rem;
            color: var(--primary);
            text-decoration: none;
        }

        .logo span {
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .logo-icon {
            margin-right: 8px;
            font-size: 2rem;
        }

        nav ul {
            display: flex;
            list-style: none;
            margin-left: 40px;
        }

        nav ul li {
            margin-left: 24px;
        }

        nav ul li a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            font-size: 1.05rem;
            padding: 8px 12px;
            border-radius: 8px;
            transition: var(--transition);
            display: flex;
            align-items: center;
        }

        nav ul li a:hover, 
        nav ul li a.active {
            background: var(--light-gray);
            color: var(--primary);
        }

        nav ul li a.active {
            background: rgba(67, 97, 238, 0.15);
            font-weight: 600;
        }

        .nav-icons {
            display: flex;
            align-items: center;
            margin-left: auto;
        }

        .nav-icon {
            margin-left: 20px;
            position: relative;
            cursor: pointer;
            font-size: 1.4rem;
            color: var(--gray);
            transition: var(--transition);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .nav-icon:hover {
            background: var(--light-gray);
            color: var(--primary);
        }

        .notification-badge {
            position: absolute;
            top: 4px;
            right: 4px;
            background: var(--danger);
            color: white;
            font-size: 0.7rem;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .user-menu {
            display: flex;
            align-items: center;
            margin-left: 16px;
            cursor: pointer;
            padding: 4px 12px;
            border-radius: 50px;
            transition: var(--transition);
            position: relative;
        }

        .user-menu:hover {
            background: var(--light-gray);
        }

        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: var(--gradient-primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 8px;
            font-size: 0.9rem;
        }

        .user-name {
            font-weight: 500;
            margin-right: 4px;
        }

        .user-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            width: 240px;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow-hover);
            z-index: 1500;
            display: none;
            flex-direction: column;
            margin-top: 8px;
            overflow: hidden;
        }

        .user-dropdown.active {
            display: flex;
        }

        .user-dropdown-header {
            padding: 16px 20px;
            border-bottom: 1px solid var(--light-gray);
            display: flex;
            align-items: center;
        }

        .user-dropdown-header .user-avatar {
            width: 48px;
            height: 48px;
            font-size: 1.1rem;
            margin-right: 12px;
        }

        .user-dropdown-info h4 {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .user-dropdown-info p {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .user-dropdown-menu {
            list-style: none;
            padding: 8px 0;
        }

        .user-dropdown-menu li {
            padding: 0;
        }

        .user-dropdown-menu a {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            text-decoration: none;
            color: var(--dark);
            transition: var(--transition);
        }

        .user-dropdown-menu a:hover {
            background: var(--light-gray);
            color: var(--primary);
        }

        .user-dropdown-menu i {
            margin-right: 12px;
            font-size: 1.2rem;
            width: 24px;
            text-align: center;
        }

        .user-dropdown-divider {
            height: 1px;
            background: var(--light-gray);
            margin: 8px 0;
        }

        .main-container {
            display: flex;
            margin-top: var(--header-height);
            padding-top: 24px;
            flex: 1;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
            width: 100%;
            padding: 0 24px;
        }

        .sidebar {
            width: var(--sidebar-width);
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 24px 0;
            height: calc(100vh - var(--header-height) - 48px);
            position: sticky;
            top: calc(var(--header-height) + 24px);
            display: flex;
            flex-direction: column;
        }

        .sidebar-menu {
            list-style: none;
            padding: 0 16px;
            flex: 1;
        }

        .sidebar-menu li {
            margin-bottom: 8px;
        }

        .sidebar-menu a {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            border-radius: 10px;
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            transition: var(--transition);
            width: 100%;
        }

        .sidebar-menu a:hover, 
        .sidebar-menu a.active {
            background: rgba(67, 97, 238, 0.1);
            color: var(--primary);
        }

        .sidebar-menu a.active {
            background: var(--gradient-primary);
            color: white;
            position: relative;
        }

        .sidebar-menu a.active::after {
            content: '';
            position: absolute;
            right: -8px;
            top: 12px;
            width: 16px;
            height: 16px;
            background: white;
            border-radius: 50%;
            box-shadow: 4px 4px 8px rgba(0,0,0,0.1);
            z-index: 1;
        }

        .sidebar-menu i {
            margin-right: 12px;
            font-size: 1.3rem;
            width: 24px;
            text-align: center;
        }

        .sidebar-footer {
            padding: 16px;
            border-top: 1px solid var(--light-gray);
            margin-top: 16px;
        }

        .premium-banner {
            background: var(--gradient-secondary);
            color: white;
            border-radius: var(--border-radius);
            padding: 16px;
            text-align: center;
            margin-bottom: 24px;
            box-shadow: var(--box-shadow);
        }

        .premium-banner h3 {
            margin-bottom: 8px;
            font-size: 1.2rem;
        }

        .premium-banner p {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-bottom: 12px;
        }

        .btn-upgrade {
            background: white;
            color: var(--secondary);
            border: none;
            padding: 8px 16px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
            margin-top: 8px;
        }

        .btn-upgrade:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .main-content {
            flex: 1;
            margin-left: 24px;
        }

        .view {
            display: none;
            animation: fadeIn 0.4s ease;
        }

        .view.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Modals */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            animation: slideUp 0.4s ease;
            position: relative;
        }

        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-header {
            padding: 20px 24px;
            border-bottom: 1px solid var(--light-gray);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .modal-close:hover {
            background: var(--light-gray);
            color: var(--danger);
        }

        .modal-body {
            padding: 24px;
        }

        .modal-footer {
            padding: 16px 24px;
            border-top: 1px solid var(--light-gray);
            display: flex;
            justify-content: flex-end;
            gap: 12px;
        }

        /* Plan Cards */
        .plan-card {
            background: white;
            border: 2px solid var(--light-gray);
            border-radius: var(--border-radius);
            padding: 24px;
            margin-bottom: 16px;
            transition: var(--transition);
            cursor: pointer;
            position: relative;
        }

        .plan-card:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: var(--box-shadow-hover);
        }

        .plan-card.selected {
            border-color: var(--primary);
            background: rgba(67, 97, 238, 0.05);
        }

        .plan-card.premium {
            border-color: var(--secondary);
        }

        .plan-card.premium.selected {
            background: rgba(114, 9, 183, 0.05);
        }

        .plan-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .plan-name {
            font-size: 1.3rem;
            font-weight: 700;
        }

        .plan-price {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
        }

        .plan-card.premium .plan-price {
            color: var(--secondary);
        }

        .plan-features {
            list-style: none;
            margin-bottom: 20px;
        }

        .plan-features li {
            margin-bottom: 8px;
            display: flex;
            align-items: center;
        }

        .plan-features i {
            margin-right: 8px;
            color: var(--success);
        }

        .selected-badge {
            position: absolute;
            top: 12px;
            right: 12px;
            background: var(--primary);
            color: white;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .plan-card.premium .selected-badge {
            background: var(--secondary);
        }

        /* Logout Modal */
        .logout-modal-content {
            text-align: center;
            padding: 40px 24px;
        }

        .logout-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            color: var(--danger);
        }

        .logout-message {
            font-size: 1.2rem;
            margin-bottom: 24px;
            color: var(--dark);
        }

        /* Login Screen */
        .login-screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--gradient-primary);
            z-index: 3000;
            align-items: center;
            justify-content: center;
            padding: 24px;
        }

        .login-screen.active {
            display: flex;
        }

        .login-container {
            background: white;
            border-radius: var(--border-radius);
            width: 100%;
            max-width: 400px;
            padding: 40px 32px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
            text-align: center;
        }

        .login-logo {
            font-size: 3rem;
            margin-bottom: 20px;
        }

        .login-title {
            font-size: 2rem;
            margin-bottom: 8px;
            color: var(--dark);
        }

        .login-subtitle {
            color: var(--gray);
            margin-bottom: 32px;
        }

        .login-form {
            margin-bottom: 24px;
        }

        .login-form .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .login-btn {
            width: 100%;
            padding: 14px;
            font-size: 1.1rem;
            margin-top: 16px;
        }

        /* Toast Notifications */
        .toast-container {
            position: fixed;
            bottom: 24px;
            right: 24px;
            z-index: 3000;
            display: flex;
            flex-direction: column;
            gap: 12px;
            max-width: 350px;
        }

        .toast {
            background: white;
            border-radius: 12px;
            box-shadow: var(--box-shadow-hover);
            padding: 16px 24px;
            display: flex;
            align-items: center;
            animation: slideIn 0.3s ease, fadeOut 0.3s ease 2.7s forwards;
            transform: translateX(400px);
        }

        @keyframes slideIn {
            to { transform: translateX(0); }
        }

        @keyframes fadeOut {
            to { opacity: 0; transform: translateX(400px); }
        }

        .toast.success {
            border-left: 4px solid var(--success);
        }

        .toast.error {
            border-left: 4px solid var(--danger);
        }

        .toast.warning {
            border-left: 4px solid var(--warning);
        }

        .toast i {
            font-size: 1.5rem;
            margin-right: 12px;
        }

        .toast.success i {
            color: var(--success);
        }

        .toast.error i {
            color: var(--danger);
        }

        .toast.warning i {
            color: var(--warning);
        }

        .toast-content h4 {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .toast-content p {
            color: var(--gray);
            font-size: 0.95rem;
        }

        /* Badge */
        .badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 8px;
        }

        .badge.premium {
            background: var(--gradient-secondary);
            color: white;
        }

        .badge.free {
            background: var(--light-gray);
            color: var(--gray);
        }

        /* Notifications Panel */
        .notifications-panel {
            position: fixed;
            top: 72px;
            right: 24px;
            width: 350px;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow-hover);
            z-index: 1500;
            display: none;
            flex-direction: column;
            max-height: 80vh;
            overflow-y: auto;
        }

        .notifications-panel.active {
            display: flex;
        }

        /* Mobile Menu */
        .mobile-menu {
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            height: var(--mobile-menu-height);
            box-shadow: 0 -2px 15px rgba(0, 0, 0, 0.1);
            z-index: 900;
            padding: 0 20px;
            justify-content: space-around;
            align-items: center;
        }

        @media (max-width: 768px) {
            .mobile-menu {
                display: flex;
            }
            
            nav ul {
                display: none;
            }
            
            .user-dropdown {
                width: 280px;
                right: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Login Screen (hidden by default) -->
    <div class="login-screen" id="login-screen">
        <div class="login-container">
            <div class="login-logo">üíº</div>
            <h1 class="login-title">MarketConnect Pro</h1>
            <p class="login-subtitle">Inicia sesi√≥n para continuar</p>
            
            <form class="login-form" id="login-form">
                <div class="form-group">
                    <label for="login-email">Email</label>
                    <input type="email" id="login-email" class="form-control" placeholder="tu@email.com" value="juan.soto@email.com" required>
                </div>
                
                <div class="form-group">
                    <label for="login-password">Contrase√±a</label>
                    <input type="password" id="login-password" class="form-control" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" value="password123" required>
                </div>
                
                <button type="submit" class="btn btn-primary login-btn">
                    Iniciar Sesi√≥n
                </button>
            </form>
            
            <p style="color: var(--gray); font-size: 0.9rem;">
                ¬øNo tienes cuenta? <a href="#" style="color: var(--primary); text-decoration: none;">Reg√≠strate aqu√≠</a>
            </p>
        </div>
    </div>

    <!-- Main App (hidden when logged out) -->
    <div id="app">
        <header>
            <a href="#" class="logo" id="logo-link">
                <span class="logo-icon">üíº</span>
                <span>Market<span>Connect</span> Pro</span>
            </a>
            
            <nav>
                <ul>
                    <li><a href="#" class="nav-link active" data-view="dashboard-view">Inicio</a></li>
                    <li><a href="#" class="nav-link" data-view="ads-view">Avisos</a></li>
                    <li><a href="#" class="nav-link" data-view="profile-view">Perfil</a></li>
                    <li><a href="#" class="nav-link" data-view="admin-view">Admin</a></li>
                </ul>
            </nav>
            
            <div class="nav-icons">
                <div class="nav-icon" id="notification-icon">
                    üîî
                    <span class="notification-badge">3</span>
                </div>
                <div class="nav-icon" id="message-icon">
                    üí¨
                    <span class="notification-badge">1</span>
                </div>
                <div class="user-menu" id="user-menu">
                    <div class="user-avatar">JS</div>
                    <div class="user-name">Juan Soto <span class="badge premium">Premium</span></div>
                    <div class="nav-icon" style="margin-left: 8px; margin-right: 0;">‚ñº</div>
                    
                    <!-- Men√∫ desplegable del usuario -->
                    <div class="user-dropdown" id="user-dropdown">
                        <div class="user-dropdown-header">
                            <div class="user-avatar">JS</div>
                            <div class="user-dropdown-info">
                                <h4>Juan Soto M√©ndez</h4>
                                <p>juan.soto@email.com</p>
                                <span class="badge premium">Premium</span>
                            </div>
                        </div>
                        <ul class="user-dropdown-menu">
                            <li><a href="#" class="nav-link" data-view="profile-view"><i>üë§</i> Mi Perfil</a></li>
                            <li><a href="#" class="nav-link" data-view="dashboard-view"><i>‚öôÔ∏è</i> Configuraci√≥n</a></li>
                            <li><a href="#" id="upgrade-plan-btn"><i>‚≠ê</i> Mejorar Plan</a></li>
                        </ul>
                        <div class="user-dropdown-divider"></div>
                        <ul class="user-dropdown-menu">
                            <li><a href="#" id="help-btn"><i>‚ùì</i> Ayuda</a></li>
                            <li><a href="#" id="logout-btn"><i>üö™</i> Cerrar Sesi√≥n</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </header>
        
        <div class="mobile-menu">
            <a href="#" class="mobile-menu-item nav-link active" data-view="dashboard-view">
                üè†
                <span>Inicio</span>
            </a>
            <a href="#" class="mobile-menu-item nav-link" data-view="ads-view">
                üìã
                <span>Avisos</span>
            </a>
            <a href="#" class="mobile-menu-item nav-link" data-view="profile-view">
                üë§
                <span>Perfil</span>
            </a>
            <a href="#" class="mobile-menu-item nav-link" data-view="admin-view">
                üõ†Ô∏è
                <span>Admin</span>
            </a>
        </div>
        
        <div class="main-container">
            <aside class="sidebar">
                <ul class="sidebar-menu">
                    <li><a href="#" class="nav-link active" data-view="dashboard-view"><i>üè†</i> Dashboard</a></li>
                    <li><a href="#" class="nav-link" data-view="ads-view"><i>üîç</i> Explorar Avisos</a></li>
                    <li><a href="#" class="nav-link" data-view="profile-view"><i>üë§</i> Mi Perfil</a></li>
                    <li><a href="#" class="nav-link" data-view="admin-view"><i>üõ†Ô∏è</i> Admin Panel</a></li>
                </ul>
                
                <div class="sidebar-footer">
                    <div class="premium-banner">
                        <h3>¬°Desbloquea todas las funciones!</h3>
                        <p>Actualiza a Premium para ver informaci√≥n completa de contactos, presupuestos exactos y direcciones.</p>
                        <button class="btn-upgrade" id="upgrade-btn">Actualizar a Premium</button>
                    </div>
                    
                    <div style="text-align: center; padding-top: 16px; border-top: 1px solid var(--light-gray); margin-top: 16px;">
                        <button class="btn" id="create-ad-btn" style="background: var(--gradient-accent); color: white; width: 100%;">
                            <i style="margin-right: 8px;">‚ûï</i>Crear Nuevo Aviso
                        </button>
                    </div>
                </div>
            </aside>
            
            <main class="main-content">
                <!-- Dashboard View -->
                <section id="dashboard-view" class="view active">
                    <h1 class="section-title">üìä Dashboard</h1>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div style="display: flex; align-items: center;">
                                <div class="icon primary">üì¢</div>
                                <div>
                                    <div class="label">Mis Avisos</div>
                                    <div class="value">12</div>
                                    <div class="change positive">‚Üë 3 nuevos esta semana</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div style="display: flex; align-items: center;">
                                <div class="icon secondary">üíº</div>
                                <div>
                                    <div class="label">Propuestas Recibidas</div>
                                    <div class="value">8</div>
                                    <div class="change positive">‚Üë 2 pendientes de revisar</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div style="display: flex; align-items: center;">
                                <div class="icon success">üí¨</div>
                                <div>
                                    <div class="label">Chats Activos</div>
                                    <div class="value">5</div>
                                    <div class="change positive">‚Üë 1 nuevo hoy</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div style="display: flex; align-items: center;">
                                <div class="icon warning">üîî</div>
                                <div>
                                    <div class="label">Notificaciones</div>
                                    <div class="value">3</div>
                                    <div class="change negative">‚Üì 2 no le√≠das</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <h2 class="section-title">üìã √öltimos Avisos</h2>
                    
                    <div class="cards-grid">
                        <div class="card">
                            <div class="card-img">
                                <img src="https://placehold.co/600x400?text=Departamento+Centro" alt="Departamento">
                            </div>
                            <div class="card-content">
                                <span class="card-category category-inmuebles">Inmuebles</span>
                                <h3 class="card-title">Departamento en Providencia</h3>
                                <p class="card-desc">Busco departamento de 2 dormitorios, 2 ba√±os, con estacionamiento y bodega en zona c√©ntrica de Santiago.</p>
                                <div class="card-footer">
                                    <div class="card-price">UF 3.500 - 4.200</div>
                                    <div class="card-actions">
                                        <button class="btn btn-sm btn-outline view-detail-btn" data-ad-id="1">Ver Detalles</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card-img">
                                <img src="https://placehold.co/600x400?text=SUV+Familiar" alt="Autom√≥vil">
                            </div>
                            <div class="card-content">
                                <span class="card-category category-automoviles">Autom√≥viles</span>
                                <h3 class="card-title">SUV Familiar 7 pasajeros</h3>
                                <p class="card-desc">Necesito SUV familiar con capacidad para 7 pasajeros, a√±o 2020 o superior, con menos de 30.000 km.</p>
                                <div class="card-footer">
                                    <div class="card-price">USD 28.000 - 35.000</div>
                                    <div class="card-actions">
                                        <button class="btn btn-sm btn-outline view-detail-btn" data-ad-id="2">Ver Detalles</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Profile View -->
                <section id="profile-view" class="view">
                    <h1 class="section-title">üë§ Mi Perfil</h1>
                    
                    <div class="profile-header">
                        <div class="profile-avatar">JS</div>
                        <div class="profile-info">
                            <h1>Juan Soto M√©ndez</h1>
                            <p>Vendedor Premium ‚Ä¢ Especializado en Inmuebles</p>
                            <div class="profile-stats">
                                <div class="profile-stat">
                                    <span class="value">24</span>
                                    <span class="label">Avisos Publicados</span>
                                </div>
                                <div class="profile-stat">
                                    <span class="value">18</span>
                                    <span class="label">Propuestas Enviadas</span>
                                </div>
                                <div class="profile-stat">
                                    <span class="value">12</span>
                                    <span class="label">Negocios Exitosos</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>
        
        <!-- Modal para Mejorar Plan -->
        <div id="upgrade-plan-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title">Mejorar Plan</h3>
                    <button class="modal-close" id="close-upgrade-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <h4 style="margin-bottom: 20px; text-align: center;">Selecciona el plan que mejor se adapte a tus necesidades</h4>
                    
                    <div class="plan-card free" id="free-plan">
                        <div class="plan-header">
                            <div class="plan-name">Plan Gratuito</div>
                            <div class="plan-price">$0/mes</div>
                        </div>
                        <ul class="plan-features">
                            <li><i>‚úì</i> Hasta 5 avisos activos</li>
                            <li><i>‚úì</i> 10 propuestas mensuales</li>
                            <li><i>‚úì</i> Chat b√°sico con vendedores</li>
                            <li><i>‚úì</i> Informaci√≥n de contacto limitada</li>
                        </ul>
                        <button class="btn btn-outline" style="width: 100%;" id="select-free-btn">
                            Seleccionar Gratuito
                        </button>
                    </div>
                    
                    <div class="plan-card premium selected" id="premium-plan">
                        <div class="selected-badge">Tu Plan Actual</div>
                        <div class="plan-header">
                            <div class="plan-name">Plan Premium</div>
                            <div class="plan-price">$19.90/mes</div>
                        </div>
                        <ul class="plan-features">
                            <li><i>‚úì</i> Avisos ilimitados</li>
                            <li><i>‚úì</i> Propuestas ilimitadas</li>
                            <li><i>‚úì</i> Chat avanzado con todos los vendedores</li>
                            <li><i>‚úì</i> Informaci√≥n de contacto completa</li>
                            <li><i>‚úì</i> Ver presupuestos exactos</li>
                            <li><i>‚úì</i> Soporte prioritario 24/7</li>
                        </ul>
                        <button class="btn btn-primary" style="width: 100%;" id="select-premium-btn">
                            Mantener Premium
                        </button>
                    </div>
                    
                    <div class="plan-card" id="business-plan">
                        <div class="plan-header">
                            <div class="plan-name">Plan Business</div>
                            <div class="plan-price">$49.90/mes</div>
                        </div>
                        <ul class="plan-features">
                            <li><i>‚úì</i> Todo lo del Plan Premium</li>
                            <li><i>‚úì</i> Hasta 5 usuarios</li>
                            <li><i>‚úì</i> API de integraci√≥n</li>
                            <li><i>‚úì</i> Dashboard avanzado</li>
                            <li><i>‚úì</i> Estad√≠sticas detalladas</li>
                            <li><i>‚úì</i> Asesor personalizado</li>
                        </ul>
                        <button class="btn btn-outline" style="width: 100%;" id="select-business-btn">
                            Seleccionar Business
                        </button>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-outline" id="cancel-upgrade">Cancelar</button>
                    <button class="btn btn-primary" id="confirm-upgrade">Confirmar Cambio</button>
                </div>
            </div>
        </div>
        
        <!-- Modal para Confirmar Cerrar Sesi√≥n -->
        <div id="logout-modal" class="modal">
            <div class="modal-content">
                <div class="logout-modal-content">
                    <div class="logout-icon">üö™</div>
                    <h3 class="modal-title">¬øCerrar Sesi√≥n?</h3>
                    <p class="logout-message">¬øEst√°s seguro de que quieres cerrar tu sesi√≥n en MarketConnect Pro?</p>
                    <div style="display: flex; gap: 12px; justify-content: center;">
                        <button class="btn btn-outline" id="cancel-logout">Cancelar</button>
                        <button class="btn btn-primary" id="confirm-logout">S√≠, Cerrar Sesi√≥n</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Toast Notifications -->
        <div class="toast-container" id="toast-container"></div>
    </div>

    <script>
        // Estado de la aplicaci√≥n
        let isLoggedIn = true;
        let currentPlan = 'premium';
        let selectedPlan = 'premium';
        
        // DOM Elements
        const app = document.getElementById('app');
        const loginScreen = document.getElementById('login-screen');
        const userMenu = document.getElementById('user-menu');
        const userDropdown = document.getElementById('user-dropdown');
        const logoutBtn = document.getElementById('logout-btn');
        const upgradePlanBtn = document.getElementById('upgrade-plan-btn');
        const upgradeBtn = document.getElementById('upgrade-btn');
        const upgradePlanModal = document.getElementById('upgrade-plan-modal');
        const logoutModal = document.getElementById('logout-modal');
        const closeUpgradeModal = document.getElementById('close-upgrade-modal');
        const cancelUpgrade = document.getElementById('cancel-upgrade');
        const cancelLogout = document.getElementById('cancel-logout');
        const confirmLogout = document.getElementById('confirm-logout');
        const confirmUpgrade = document.getElementById('confirm-upgrade');
        const freePlan = document.getElementById('free-plan');
        const premiumPlan = document.getElementById('premium-plan');
        const businessPlan = document.getElementById('business-plan');
        const selectFreeBtn = document.getElementById('select-free-btn');
        const selectPremiumBtn = document.getElementById('select-premium-btn');
        const selectBusinessBtn = document.getElementById('select-business-btn');
        const loginForm = document.getElementById('login-form');
        const notificationIcon = document.getElementById('notification-icon');
        const notificationsPanel = document.getElementById('notifications-panel');
        
        // Inicializar la aplicaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            console.log('MarketConnect Pro iniciado');
            
            // Verificar estado de inicio de sesi√≥n
            checkLoginStatus();
            
            // Configurar men√∫ de usuario
            setupUserMenu();
            
            // Configurar eventos de modales
            setupModals();
            
            // Configurar selecci√≥n de planes
            setupPlanSelection();
            
            // Configurar formulario de login
            setupLoginForm();
            
            // Mostrar toast de bienvenida
            setTimeout(() => {
                showToast('Bienvenido', '¬°Hola Juan! Bienvenido a MarketConnect Pro', 'success');
            }, 1000);
        });
        
        // Verificar estado de inicio de sesi√≥n
        function checkLoginStatus() {
            if (!isLoggedIn) {
                showLoginScreen();
            } else {
                hideLoginScreen();
            }
        }
        
        // Mostrar pantalla de login
        function showLoginScreen() {
            if (loginScreen) loginScreen.classList.add('active');
            if (app) app.style.display = 'none';
        }
        
        // Ocultar pantalla de login
        function hideLoginScreen() {
            if (loginScreen) loginScreen.classList.remove('active');
            if (app) app.style.display = 'flex';
        }
        
        // Configurar men√∫ de usuario
        function setupUserMenu() {
            if (userMenu) {
                userMenu.addEventListener('click', function(e) {
                    e.stopPropagation();
                    userDropdown.classList.toggle('active');
                });
            }
            
            // Cerrar men√∫ al hacer clic fuera
            document.addEventListener('click', function(e) {
                if (userDropdown.classList.contains('active') && 
                    !userMenu.contains(e.target) && 
                    !userDropdown.contains(e.target)) {
                    userDropdown.classList.remove('active');
                }
            });
            
            // Cerrar sesi√≥n
            if (logoutBtn) {
                logoutBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    userDropdown.classList.remove('active');
                    showLogoutModal();
                });
            }
            
            // Mejorar plan
            if (upgradePlanBtn) {
                upgradePlanBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    userDropdown.classList.remove('active');
                    showUpgradeModal();
                });
            }
            
            // Mejorar plan desde sidebar
            if (upgradeBtn) {
                upgradeBtn.addEventListener('click', function() {
                    showUpgradeModal();
                });
            }
        }
        
        // Configurar modales
        function setupModals() {
            // Cerrar modal de upgrade
            if (closeUpgradeModal) {
                closeUpgradeModal.addEventListener('click', function() {
                    upgradePlanModal.classList.remove('active');
                });
            }
            
            if (cancelUpgrade) {
                cancelUpgrade.addEventListener('click', function() {
                    upgradePlanModal.classList.remove('active');
                    showToast('Cancelado', 'El cambio de plan ha sido cancelado', 'warning');
                });
            }
            
            // Cerrar modal de logout
            if (cancelLogout) {
                cancelLogout.addEventListener('click', function() {
                    logoutModal.classList.remove('active');
                });
            }
            
            // Confirmar logout
            if (confirmLogout) {
                confirmLogout.addEventListener('click', function() {
                    performLogout();
                });
            }
            
            // Confirmar upgrade
            if (confirmUpgrade) {
                confirmUpgrade.addEventListener('click', function() {
                    performPlanUpgrade();
                });
            }
            
            // Cerrar modales al hacer clic fuera
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('modal')) {
                    e.target.classList.remove('active');
                }
            });
        }
        
        // Configurar selecci√≥n de planes
        function setupPlanSelection() {
            // Seleccionar plan gratis
            if (selectFreeBtn) {
                selectFreeBtn.addEventListener('click', function() {
                    selectPlan('free');
                });
            }
            
            // Seleccionar plan premium
            if (selectPremiumBtn) {
                selectPremiumBtn.addEventListener('click', function() {
                    selectPlan('premium');
                });
            }
            
            // Seleccionar plan business
            if (selectBusinessBtn) {
                selectBusinessBtn.addEventListener('click', function() {
                    selectPlan('business');
                });
            }
        }
        
        // Configurar formulario de login
        function setupLoginForm() {
            if (loginForm) {
                loginForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const email = document.getElementById('login-email').value;
                    const password = document.getElementById('login-password').value;
                    
                    // Validaci√≥n simple
                    if (email && password) {
                        performLogin(email);
                    } else {
                        showToast('Error', 'Por favor completa todos los campos', 'error');
                    }
                });
            }
        }
        
        // Mostrar modal de upgrade
        function showUpgradeModal() {
            if (upgradePlanModal) {
                // Restablecer selecci√≥n al plan actual
                selectPlan(currentPlan);
                upgradePlanModal.classList.add('active');
            }
        }
        
        // Mostrar modal de logout
        function showLogoutModal() {
            if (logoutModal) {
                logoutModal.classList.add('active');
            }
        }
        
        // Seleccionar plan
        function selectPlan(plan) {
            selectedPlan = plan;
            
            // Remover clase selected de todos los planes
            const planCards = document.querySelectorAll('.plan-card');
            planCards.forEach(card => {
                card.classList.remove('selected');
            });
            
            // Actualizar texto del bot√≥n seg√∫n el plan seleccionado
            let buttonText = 'Seleccionar';
            if (plan === currentPlan) {
                buttonText = 'Mantener Actual';
            }
            
            // Agregar clase selected al plan seleccionado
            if (plan === 'free') {
                freePlan.classList.add('selected');
                selectFreeBtn.textContent = buttonText + ' Gratuito';
            } else if (plan === 'premium') {
                premiumPlan.classList.add('selected');
                selectPremiumBtn.textContent = buttonText + ' Premium';
            } else if (plan === 'business') {
                businessPlan.classList.add('selected');
                selectBusinessBtn.textContent = buttonText + ' Business';
            }
        }
        
        // Realizar upgrade de plan
        function performPlanUpgrade() {
            if (selectedPlan === currentPlan) {
                showToast('Informaci√≥n', 'Ya tienes este plan activo', 'info');
            } else {
                // Simular procesamiento de pago
                showToast('Procesando', 'Procesando cambio de plan...', 'info');
                
                setTimeout(() => {
                    // Actualizar estado
                    currentPlan = selectedPlan;
                    
                    // Actualizar UI
                    updateUserPlanUI();
                    
                    // Cerrar modal
                    upgradePlanModal.classList.remove('active');
                    
                    // Mostrar mensaje de √©xito
                    const planNames = {
                        'free': 'Gratuito',
                        'premium': 'Premium',
                        'business': 'Business'
                    };
                    
                    showToast('¬°√âxito!', `Plan actualizado a ${planNames[currentPlan]} exitosamente`, 'success');
                }, 1500);
            }
        }
        
        // Actualizar UI del plan del usuario
        function updateUserPlanUI() {
            const userBadge = document.querySelector('.user-name .badge');
            const premiumBadge = document.querySelector('.user-dropdown-info .badge');
            const planNameElement = document.querySelector('.plan-card.selected .plan-name');
            
            if (currentPlan === 'premium' || currentPlan === 'business') {
                if (userBadge) {
                    userBadge.className = 'badge premium';
                    userBadge.textContent = currentPlan === 'business' ? 'Business' : 'Premium';
                }
                if (premiumBadge) {
                    premiumBadge.className = 'badge premium';
                    premiumBadge.textContent = currentPlan === 'business' ? 'Business' : 'Premium';
                }
                if (planNameElement) {
                    planNameElement.textContent = currentPlan === 'business' ? 'Plan Business' : 'Plan Premium';
                }
            } else {
                if (userBadge) userBadge.remove();
                if (premiumBadge) premiumBadge.remove();
            }
        }
        
        // Realizar logout
        function performLogout() {
            // Cerrar modal
            logoutModal.classList.remove('active');
            
            // Mostrar mensaje
            showToast('Cerrando Sesi√≥n', 'Tu sesi√≥n se est√° cerrando...', 'info');
            
            // Simular proceso de logout
            setTimeout(() => {
                // Actualizar estado
                isLoggedIn = false;
                
                // Mostrar pantalla de login
                showLoginScreen();
                
                // Mostrar mensaje de despedida
                setTimeout(() => {
                    showToast('Sesi√≥n Cerrada', 'Has cerrado sesi√≥n exitosamente', 'success');
                }, 500);
            }, 1000);
        }
        
        // Realizar login
        function performLogin(email) {
            // Simular proceso de login
            showToast('Iniciando Sesi√≥n', 'Verificando credenciales...', 'info');
            
            setTimeout(() => {
                // Actualizar estado
                isLoggedIn = true;
                
                // Actualizar email en la UI
                const userEmailElements = document.querySelectorAll('.user-dropdown-info p');
                userEmailElements.forEach(el => {
                    if (el.textContent.includes('@')) {
                        el.textContent = email;
                    }
                });
                
                // Ocultar pantalla de login
                hideLoginScreen();
                
                // Mostrar mensaje de bienvenida
                showToast('¬°Bienvenido!', 'Sesi√≥n iniciada exitosamente', 'success');
            }, 1500);
        }
        
        // Funci√≥n para mostrar toasts
        function showToast(title, message, type = 'success') {
            const toastContainer = document.getElementById('toast-container');
            if (!toastContainer) return;
            
            // Crear elemento toast
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            
            // Establecer icono basado en tipo
            let icon = '‚úÖ';
            if (type === 'error') icon = '‚ùå';
            if (type === 'warning') icon = '‚ö†Ô∏è';
            if (type === 'info') icon = '‚ÑπÔ∏è';
            
            toast.innerHTML = `
                <div style="margin-right: 16px;">
                    <i>${icon}</i>
                </div>
                <div class="toast-content">
                    <h4>${title}</h4>
                    <p>${message}</p>
                </div>
            `;
            
            // Agregar al contenedor
            toastContainer.appendChild(toast);
            
            // Auto-eliminar despu√©s de 3 segundos
            setTimeout(() => {
                toast.style.opacity = '0';
                toast.style.transform = 'translateX(400px)';
                setTimeout(() => {
                    if (toast.parentNode === toastContainer) {
                        toastContainer.removeChild(toast);
                    }
                }, 300);
            }, 3000);
        }
    </script>
</body>
</html>
