<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MarketConnect Pro - Conectando Compradores y Vendedores</title>
    <link rel="manifest" href="data:application/manifest+json,{
        \"name\": \"MarketConnect Pro\",
        \"short_name\": \"MarketConnect\",
        \"start_url\": \"/\",
        \"display\": \"standalone\",
        \"background_color\": \"#ffffff\",
        \"theme_color\": \"#4361ee\",
        \"icons\": [{
            \"src\": \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='45' fill='%234361ee'/%3E%3Ctext x='50' y='55' font-family='Arial' font-size='20' fill='white' text-anchor='middle'%3EMC%3C/text%3E%3C/svg%3E\",
            \"sizes\": \"192x192\",
            \"type\": \"image/svg+xml\"
        }]
    }">
    <style>
        :root {
            --primary: #4361ee;
            --primary-dark: #3a56d4;
            --secondary: #7209b7;
            --accent: #4cc9f0;
            --success: #2ecc71;
            --warning: #f39c12;
            --danger: #e74c3c;
            --dark: #2b2d42;
            --darker: #1a1c23;
            --light: #f8f9fa;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            --border-radius: 12px;
            --box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            --box-shadow-hover: 0 6px 25px rgba(0, 0, 0, 0.12);
            --transition: all 0.3s ease;
            --sidebar-width: 260px;
            --header-height: 72px;
            --mobile-menu-height: 64px;
            --gradient-primary: linear-gradient(135deg, var(--primary), var(--secondary));
            --gradient-secondary: linear-gradient(135deg, var(--secondary), #480ca8);
            --gradient-accent: linear-gradient(135deg, var(--accent), #4895ef);
            --gradient-success: linear-gradient(135deg, var(--success), #27ae60);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background-color: #f5f7fb;
            overflow-x: hidden;
        }

        /* Layout */
        #app {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        header {
            height: var(--header-height);
            background: white;
            box-shadow: var(--box-shadow);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            display: flex;
            align-items: center;
            padding: 0 24px;
            justify-content: space-between;
        }

        .logo {
            display: flex;
            align-items: center;
            font-weight: 800;
            font-size: 1.8rem;
            color: var(--primary);
            text-decoration: none;
        }

        .logo span {
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .logo-icon {
            margin-right: 8px;
            font-size: 2rem;
        }

        nav ul {
            display: flex;
            list-style: none;
            margin-left: 40px;
        }

        nav ul li {
            margin-left: 24px;
        }

        nav ul li a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            font-size: 1.05rem;
            padding: 8px 12px;
            border-radius: 8px;
            transition: var(--transition);
            display: flex;
            align-items: center;
        }

        nav ul li a:hover, 
        nav ul li a.active {
            background: var(--light-gray);
            color: var(--primary);
        }

        nav ul li a.active {
            background: rgba(67, 97, 238, 0.15);
            font-weight: 600;
        }

        .nav-icons {
            display: flex;
            align-items: center;
            margin-left: auto;
        }

        .nav-icon {
            margin-left: 20px;
            position: relative;
            cursor: pointer;
            font-size: 1.4rem;
            color: var(--gray);
            transition: var(--transition);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .nav-icon:hover {
            background: var(--light-gray);
            color: var(--primary);
        }

        .notification-badge {
            position: absolute;
            top: 4px;
            right: 4px;
            background: var(--danger);
            color: white;
            font-size: 0.7rem;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .user-menu {
            display: flex;
            align-items: center;
            margin-left: 16px;
            cursor: pointer;
            padding: 4px 12px;
            border-radius: 50px;
            transition: var(--transition);
            position: relative;
        }

        .user-menu:hover {
            background: var(--light-gray);
        }

        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: var(--gradient-primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 8px;
            font-size: 0.9rem;
        }

        .user-name {
            font-weight: 500;
            margin-right: 4px;
        }

        .user-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            width: 240px;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow-hover);
            z-index: 1500;
            display: none;
            flex-direction: column;
            margin-top: 8px;
            overflow: hidden;
        }

        .user-dropdown.active {
            display: flex;
        }

        .user-dropdown-header {
            padding: 16px 20px;
            border-bottom: 1px solid var(--light-gray);
            display: flex;
            align-items: center;
        }

        .user-dropdown-header .user-avatar {
            width: 48px;
            height: 48px;
            font-size: 1.1rem;
            margin-right: 12px;
        }

        .user-dropdown-info h4 {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .user-dropdown-info p {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .user-dropdown-menu {
            list-style: none;
            padding: 8px 0;
        }

        .user-dropdown-menu li {
            padding: 0;
        }

        .user-dropdown-menu a {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            text-decoration: none;
            color: var(--dark);
            transition: var(--transition);
        }

        .user-dropdown-menu a:hover {
            background: var(--light-gray);
            color: var(--primary);
        }

        .user-dropdown-menu i {
            margin-right: 12px;
            font-size: 1.2rem;
            width: 24px;
            text-align: center;
        }

        .user-dropdown-divider {
            height: 1px;
            background: var(--light-gray);
            margin: 8px 0;
        }

        .main-container {
            display: flex;
            margin-top: var(--header-height);
            padding-top: 24px;
            flex: 1;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
            width: 100%;
            padding: 0 24px;
        }

        .sidebar {
            width: var(--sidebar-width);
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 24px 0;
            height: calc(100vh - var(--header-height) - 48px);
            position: sticky;
            top: calc(var(--header-height) + 24px);
            display: flex;
            flex-direction: column;
        }

        .sidebar-menu {
            list-style: none;
            padding: 0 16px;
            flex: 1;
        }

        .sidebar-menu li {
            margin-bottom: 8px;
        }

        .sidebar-menu a {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            border-radius: 10px;
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            transition: var(--transition);
            width: 100%;
        }

        .sidebar-menu a:hover, 
        .sidebar-menu a.active {
            background: rgba(67, 97, 238, 0.1);
            color: var(--primary);
        }

        .sidebar-menu a.active {
            background: var(--gradient-primary);
            color: white;
            position: relative;
        }

        .sidebar-menu a.active::after {
            content: '';
            position: absolute;
            right: -8px;
            top: 12px;
            width: 16px;
            height: 16px;
            background: white;
            border-radius: 50%;
            box-shadow: 4px 4px 8px rgba(0,0,0,0.1);
            z-index: 1;
        }

        .sidebar-menu i {
            margin-right: 12px;
            font-size: 1.3rem;
            width: 24px;
            text-align: center;
        }

        .sidebar-footer {
            padding: 16px;
            border-top: 1px solid var(--light-gray);
            margin-top: 16px;
        }

        .premium-banner {
            background: var(--gradient-secondary);
            color: white;
            border-radius: var(--border-radius);
            padding: 16px;
            text-align: center;
            margin-bottom: 24px;
            box-shadow: var(--box-shadow);
        }

        .premium-banner h3 {
            margin-bottom: 8px;
            font-size: 1.2rem;
        }

        .premium-banner p {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-bottom: 12px;
        }

        .btn-upgrade {
            background: white;
            color: var(--secondary);
            border: none;
            padding: 8px 16px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
            margin-top: 8px;
        }

        .btn-upgrade:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .main-content {
            flex: 1;
            margin-left: 24px;
        }

        .view {
            display: none;
            animation: fadeIn 0.4s ease;
        }

        .view.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Cards and UI Elements */
        .section-title {
            font-size: 1.8rem;
            margin-bottom: 24px;
            color: var(--darker);
            display: flex;
            align-items: center;
        }

        .section-title i {
            margin-right: 12px;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-size: 1.6rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .stat-card {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 24px;
            transition: var(--transition);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--box-shadow-hover);
        }

        .stat-card .icon {
            font-size: 2.2rem;
            margin-bottom: 16px;
            width: 60px;
            height: 60px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 16px;
        }

        .stat-card .primary {
            background: rgba(67, 97, 238, 0.15);
            color: var(--primary);
        }

        .stat-card .secondary {
            background: rgba(114, 9, 183, 0.15);
            color: var(--secondary);
        }

        .stat-card .success {
            background: rgba(46, 204, 113, 0.15);
            color: var(--success);
        }

        .stat-card .warning {
            background: rgba(243, 156, 18, 0.15);
            color: var(--warning);
        }

        .stat-card .label {
            font-size: 0.95rem;
            color: var(--gray);
            margin-bottom: 8px;
        }

        .stat-card .value {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .stat-card .change {
            font-size: 0.9rem;
            font-weight: 500;
        }

        .stat-card .change.positive {
            color: var(--success);
        }

        .stat-card .change.negative {
            color: var(--danger);
        }

        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .card {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            overflow: hidden;
            transition: var(--transition);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--box-shadow-hover);
        }

        .card-img {
            height: 180px;
            background: var(--light-gray);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .card-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .card-content {
            padding: 20px;
        }

        .card-category {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
            margin-bottom: 12px;
        }

        .category-inmuebles {
            background: rgba(67, 97, 238, 0.15);
            color: var(--primary);
        }

        .category-automoviles {
            background: rgba(114, 9, 183, 0.15);
            color: var(--secondary);
        }

        .category-motos {
            background: rgba(76, 201, 240, 0.15);
            color: var(--accent);
        }

        .card-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 8px;
            display: -webkit-box;
            -webkit-line-clamp: 1;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .card-desc {
            color: var(--gray);
            margin-bottom: 16px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            font-size: 0.95rem;
        }

        .card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 16px;
            border-top: 1px solid var(--light-gray);
        }

        .card-price {
            font-weight: 700;
            font-size: 1.25rem;
            color: var(--primary);
        }

        .card-actions {
            display: flex;
            gap: 8px;
        }

        .btn {
            padding: 8px 16px;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 0.95rem;
        }

        .btn-sm {
            padding: 6px 12px;
            font-size: 0.9rem;
        }

        .btn-primary {
            background: var(--gradient-primary);
            color: white;
        }

        .btn-secondary {
            background: var(--gradient-secondary);
            color: white;
        }

        .btn-outline {
            background: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background: rgba(67, 97, 238, 0.1);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .btn-block {
            display: block;
            width: 100%;
            padding: 12px;
            font-size: 1.05rem;
            margin-top: 16px;
        }

        /* Forms */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark);
        }

        .form-control {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--light-gray);
            border-radius: 10px;
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        /* Filters */
        .filters-container {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 24px;
            margin-bottom: 24px;
        }

        .filters-title {
            font-size: 1.4rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }

        .filters-title i {
            margin-right: 10px;
            color: var(--primary);
        }

        .filters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
        }

        /* Modals */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            animation: slideUp 0.4s ease;
            position: relative;
        }

        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-header {
            padding: 20px 24px;
            border-bottom: 1px solid var(--light-gray);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .modal-close:hover {
            background: var(--light-gray);
            color: var(--danger);
        }

        .modal-body {
            padding: 24px;
        }

        .modal-footer {
            padding: 16px 24px;
            border-top: 1px solid var(--light-gray);
            display: flex;
            justify-content: flex-end;
            gap: 12px;
        }

        /* Chat Interface */
        .chat-container {
            display: flex;
            flex-direction: column;
            height: 100%;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            overflow: hidden;
        }

        .chat-header {
            padding: 16px 24px;
            border-bottom: 1px solid var(--light-gray);
            display: flex;
            align-items: center;
        }

        .chat-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: var(--gradient-accent);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 16px;
            font-size: 1.2rem;
        }

        .chat-info h3 {
            font-size: 1.25rem;
            margin-bottom: 4px;
        }

        .chat-info p {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .chat-messages {
            flex: 1;
            padding: 24px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .message {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 18px;
            position: relative;
            line-height: 1.5;
        }

        .message.sent {
            align-self: flex-end;
            background: var(--gradient-primary);
            color: white;
            border-bottom-right-radius: 6px;
        }

        .message.received {
            align-self: flex-start;
            background: var(--light-gray);
            color: var(--dark);
            border-bottom-left-radius: 6px;
        }

        .message-time {
            font-size: 0.75rem;
            opacity: 0.8;
            margin-top: 6px;
            text-align: right;
        }

        .message.received .message-time {
            text-align: left;
        }

        .chat-input-container {
            padding: 16px 24px;
            border-top: 1px solid var(--light-gray);
            display: flex;
            gap: 12px;
        }

        .chat-input {
            flex: 1;
            padding: 14px 20px;
            border: 1px solid var(--light-gray);
            border-radius: 50px;
            font-size: 1rem;
            outline: none;
            transition: var(--transition);
        }

        .chat-input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }

        .chat-actions {
            display: flex;
            gap: 8px;
        }

        .chat-action {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--light-gray);
            color: var(--primary);
            border: none;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1.2rem;
        }

        .chat-action:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }

        .chat-action.camera {
            background: var(--success);
            color: white;
        }

        .chat-action.attach {
            background: var(--warning);
            color: white;
        }

        .chat-action.send {
            background: var(--gradient-primary);
            color: white;
            width: 50px;
        }

        /* Tables */
        .table-container {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            overflow: hidden;
            margin-bottom: 24px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        table th {
            background: var(--light-gray);
            padding: 16px 20px;
            text-align: left;
            font-weight: 600;
            color: var(--dark);
        }

        table td {
            padding: 14px 20px;
            border-bottom: 1px solid var(--light-gray);
        }

        table tr:last-child td {
            border-bottom: none;
        }

        table tr:hover {
            background: var(--light-gray);
        }

        .status-badge {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
            display: inline-block;
        }

        .status-pending {
            background: rgba(243, 156, 18, 0.15);
            color: var(--warning);
        }

        .status-accepted {
            background: rgba(46, 204, 113, 0.15);
            color: var(--success);
        }

        .status-rejected {
            background: rgba(231, 76, 60, 0.15);
            color: var(--danger);
        }

        .status-negotiating {
            background: rgba(76, 201, 240, 0.15);
            color: var(--accent);
        }

        .table-actions {
            display: flex;
            gap: 8px;
        }

        /* Badge */
        .badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 8px;
        }

        .badge.premium {
            background: var(--gradient-secondary);
            color: white;
        }

        .badge.free {
            background: var(--light-gray);
            color: var(--gray);
        }

        /* Toast Notifications */
        .toast-container {
            position: fixed;
            bottom: 24px;
            right: 24px;
            z-index: 3000;
            display: flex;
            flex-direction: column;
            gap: 12px;
            max-width: 350px;
        }

        .toast {
            background: white;
            border-radius: 12px;
            box-shadow: var(--box-shadow-hover);
            padding: 16px 24px;
            display: flex;
            align-items: center;
            animation: slideIn 0.3s ease, fadeOut 0.3s ease 2.7s forwards;
            transform: translateX(400px);
        }

        @keyframes slideIn {
            to { transform: translateX(0); }
        }

        @keyframes fadeOut {
            to { opacity: 0; transform: translateX(400px); }
        }

        .toast.success {
            border-left: 4px solid var(--success);
        }

        .toast.error {
            border-left: 4px solid var(--danger);
        }

        .toast.warning {
            border-left: 4px solid var(--warning);
        }

        .toast i {
            font-size: 1.5rem;
            margin-right: 12px;
        }

        .toast.success i {
            color: var(--success);
        }

        .toast.error i {
            color: var(--danger);
        }

        .toast.warning i {
            color: var(--warning);
        }

        .toast-content h4 {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .toast-content p {
            color: var(--gray);
            font-size: 0.95rem;
        }

        /* Notifications Panel */
        .notifications-panel {
            position: fixed;
            top: 72px;
            right: 24px;
            width: 350px;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow-hover);
            z-index: 1500;
            display: none;
            flex-direction: column;
            max-height: 80vh;
            overflow-y: auto;
        }

        .notifications-panel.active {
            display: flex;
        }

        .notifications-header {
            padding: 16px 24px;
            border-bottom: 1px solid var(--light-gray);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .notifications-list {
            padding: 0;
            list-style: none;
        }

        .notification-item {
            padding: 16px 24px;
            border-bottom: 1px solid var(--light-gray);
            display: flex;
            gap: 16px;
            cursor: pointer;
            transition: var(--transition);
        }

        .notification-item:hover {
            background: var(--light-gray);
        }

        .notification-item.unread {
            background: rgba(67, 97, 238, 0.05);
            border-left: 4px solid var(--primary);
        }

        .notification-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--light-gray);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .notification-content h4 {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .notification-content p {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .notification-time {
            font-size: 0.8rem;
            color: var(--gray);
            margin-top: 4px;
        }

        .mark-all-read {
            background: none;
            border: none;
            color: var(--primary);
            font-weight: 500;
            cursor: pointer;
            padding: 8px 16px;
            border-radius: 8px;
            transition: var(--transition);
        }

        .mark-all-read:hover {
            background: var(--light-gray);
        }

        /* Messages Panel */
        .messages-panel {
            position: fixed;
            top: 72px;
            right: 24px;
            width: 400px;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow-hover);
            z-index: 1500;
            display: none;
            flex-direction: column;
            max-height: 80vh;
        }

        .messages-panel.active {
            display: flex;
        }

        .messages-header {
            padding: 16px 24px;
            border-bottom: 1px solid var(--light-gray);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .messages-list {
            padding: 0;
            list-style: none;
            flex: 1;
            overflow-y: auto;
        }

        .message-item {
            padding: 16px 24px;
            border-bottom: 1px solid var(--light-gray);
            display: flex;
            gap: 16px;
            cursor: pointer;
            transition: var(--transition);
        }

        .message-item:hover {
            background: var(--light-gray);
        }

        .message-item.unread {
            background: rgba(67, 97, 238, 0.05);
            border-left: 4px solid var(--primary);
        }

        .message-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: var(--gradient-accent);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .message-content h4 {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .message-content p {
            color: var(--gray);
            font-size: 0.9rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 250px;
        }

        .message-time {
            font-size: 0.8rem;
            color: var(--gray);
            margin-top: 4px;
        }

        /* Mobile Menu */
        .mobile-menu {
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            height: var(--mobile-menu-height);
            box-shadow: 0 -2px 15px rgba(0, 0, 0, 0.1);
            z-index: 900;
            padding: 0 20px;
            justify-content: space-around;
            align-items: center;
        }

        .mobile-menu-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--gray);
            text-decoration: none;
            font-size: 0.8rem;
            transition: var(--transition);
            padding: 8px;
            border-radius: 12px;
        }

        .mobile-menu-item.active, 
        .mobile-menu-item:hover {
            color: var(--primary);
            background: rgba(67, 97, 238, 0.1);
        }

        .mobile-menu-item i {
            font-size: 1.6rem;
            margin-bottom: 4px;
        }

        @media (max-width: 768px) {
            .mobile-menu {
                display: flex;
            }
            
            nav ul {
                display: none;
            }
            
            .user-dropdown {
                width: 280px;
                right: 10px;
            }
        }
    </style>
</head>
<body>
    <div id="app">
        <header>
            <a href="#" class="logo" id="logo-link">
                <span class="logo-icon">üíº</span>
                <span>Market<span>Connect</span> Pro</span>
            </a>
            
            <nav>
                <ul>
                    <li><a href="#" class="nav-link active" data-view="dashboard-view">Inicio</a></li>
                    <li><a href="#" class="nav-link" data-view="ads-view">Avisos</a></li>
                    <li><a href="#" class="nav-link" data-view="profile-view">Perfil</a></li>
                    <li><a href="#" class="nav-link" data-view="admin-view">Admin</a></li>
                </ul>
            </nav>
            
            <div class="nav-icons">
                <div class="nav-icon" id="notification-icon">
                    üîî
                    <span class="notification-badge">3</span>
                </div>
                <div class="nav-icon" id="message-icon">
                    üí¨
                    <span class="notification-badge">1</span>
                </div>
                <div class="user-menu" id="user-menu">
                    <div class="user-avatar">JS</div>
                    <div class="user-name">Juan Soto <span class="badge premium">Premium</span></div>
                    <div class="nav-icon" style="margin-left: 8px; margin-right: 0;">‚ñº</div>
                    
                    <!-- Men√∫ desplegable del usuario -->
                    <div class="user-dropdown" id="user-dropdown">
                        <div class="user-dropdown-header">
                            <div class="user-avatar">JS</div>
                            <div class="user-dropdown-info">
                                <h4>Juan Soto M√©ndez</h4>
                                <p>juan.soto@email.com</p>
                                <span class="badge premium">Premium</span>
                            </div>
                        </div>
                        <ul class="user-dropdown-menu">
                            <li><a href="#" class="nav-link" data-view="profile-view"><i>üë§</i> Mi Perfil</a></li>
                            <li><a href="#" class="nav-link" data-view="dashboard-view"><i>‚öôÔ∏è</i> Configuraci√≥n</a></li>
                            <li><a href="#" id="upgrade-plan-btn"><i>‚≠ê</i> Mejorar Plan</a></li>
                        </ul>
                        <div class="user-dropdown-divider"></div>
                        <ul class="user-dropdown-menu">
                            <li><a href="#" id="help-btn"><i>‚ùì</i> Ayuda</a></li>
                            <li><a href="#" id="logout-btn"><i>üö™</i> Cerrar Sesi√≥n</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </header>
        
        <!-- El resto del c√≥digo HTML permanece igual -->
        <div class="mobile-menu">
            <a href="#" class="mobile-menu-item nav-link active" data-view="dashboard-view">
                üè†
                <span>Inicio</span>
            </a>
            <a href="#" class="mobile-menu-item nav-link" data-view="ads-view">
                üìã
                <span>Avisos</span>
            </a>
            <a href="#" class="mobile-menu-item nav-link" data-view="profile-view">
                üë§
                <span>Perfil</span>
            </a>
            <a href="#" class="mobile-menu-item nav-link" data-view="admin-view">
                üõ†Ô∏è
                <span>Admin</span>
            </a>
        </div>
        
        <div class="main-container">
            <aside class="sidebar">
                <ul class="sidebar-menu">
                    <li><a href="#" class="nav-link active" data-view="dashboard-view"><i>üè†</i> Dashboard</a></li>
                    <li><a href="#" class="nav-link" data-view="ads-view"><i>üîç</i> Explorar Avisos</a></li>
                    <li><a href="#" class="nav-link" data-view="profile-view"><i>üë§</i> Mi Perfil</a></li>
                    <li><a href="#" class="nav-link" data-view="admin-view"><i>üõ†Ô∏è</i> Admin Panel</a></li>
                </ul>
                
                <div class="sidebar-footer">
                    <div class="premium-banner">
                        <h3>¬°Desbloquea todas las funciones!</</h3>
                        <p>Actualiza a Premium para ver informaci√≥n completa de contactos, presupuestos exactos y direcciones.</p>
                        <button class="btn-upgrade" id="upgrade-btn">Actualizar a Premium</button>
                    </div>
                    
                    <div style="text-align: center; padding-top: 16px; border-top: 1px solid var(--light-gray); margin-top: 16px;">
                        <button class="btn" id="create-ad-btn" style="background: var(--gradient-accent); color: white; width: 100%;">
                            <i style="margin-right: 8px;">‚ûï</i>Crear Nuevo Aviso
                        </button>
                    </div>
                </div>
            </aside>
            
            <main class="main-content">
                <!-- Dashboard View -->
                <section id="dashboard-view" class="view active">
                    <h1 class="section-title">üìä Dashboard</h1>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div style="display: flex; align-items: center;">
                                <div class="icon primary">üì¢</div>
                                <div>
                                    <div class="label">Mis Avisos</div>
                                    <div class="value">12</div>
                                    <div class="change positive">‚Üë 3 nuevos esta semana</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div style="display: flex; align-items: center;">
                                <div class="icon secondary">üíº</div>
                                <div>
                                    <div class="label">Propuestas Recibidas</div>
                                    <div class="value">8</div>
                                    <div class="change positive">‚Üë 2 pendientes de revisar</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div style="display: flex; align-items: center;">
                                <div class="icon success">üí¨</div>
                                <div>
                                    <div class="label">Chats Activos</div>
                                    <div class="value">5</div>
                                    <div class="change positive">‚Üë 1 nuevo hoy</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div style="display: flex; align-items: center;">
                                <div class="icon warning">üîî</div>
                                <div>
                                    <div class="label">Notificaciones</div>
                                    <div class="value">3</div>
                                    <div class="change negative">‚Üì 2 no le√≠das</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <h2 class="section-title">üìã √öltimos Avisos</h2>
                    
                    <div class="cards-grid">
                        <div class="card">
                            <div class="card-img">
                                <img src="https://placehold.co/600x400?text=Departamento+Centro" alt="Departamento">
                            </div>
                            <div class="card-content">
                                <span class="card-category category-inmuebles">Inmuebles</span>
                                <h3 class="card-title">Departamento en Providencia</h3>
                                <p class="card-desc">Busco departamento de 2 dormitorios, 2 ba√±os, con estacionamiento y bodega en zona c√©ntrica de Santiago.</p>
                                <div class="card-footer">
                                    <div class="card-price">UF 3.500 - 4.200</div>
                                    <div class="card-actions">
                                        <button class="btn btn-sm btn-outline view-detail-btn" data-ad-id="1">Ver Detalles</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card-img">
                                <img src="https://placehold.co/600x400?text=SUV+Familiar" alt="Autom√≥vil">
                            </div>
                            <div class="card-content">
                                <span class="card-category category-automoviles">Autom√≥viles</span>
                                <h3 class="card-title">SUV Familiar 7 pasajeros</h3>
                                <p class="card-desc">Necesito SUV familiar con capacidad para 7 pasajeros, a√±o 2020 o superior, con menos de 30.000 km.</p>
                                <div class="card-footer">
                                    <div class="card-price">USD 28.000 - 35.000</div>
                                    <div class="card-actions">
                                        <button class="btn btn-sm btn-outline view-detail-btn" data-ad-id="2">Ver Detalles</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card-img">
                                <img src="https://placehold.co/600x400?text=Moto+Deportiva" alt="Moto">
                            </div>
                            <div class="card-content">
                                <span class="card-category category-motos">Motos</span>
                                <h3 class="card-title">Moto Deportiva 600cc</h3>
                                <p class="card-desc">Busco moto deportiva de 600cc, modelo 2021 o 2022, en excelente estado, con m√°ximo 5.000 km recorridos.</p>
                                <div class="card-footer">
                                    <div class="card-price">CLP 8.500.000 - 10.000.000</div>
                                    <div class="card-actions">
                                        <button class="btn btn-sm btn-outline view-detail-btn" data-ad-id="3">Ver Detalles</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <h2 class="section-title">üí¨ Chats Recientes</h2>
                    
                    <div class="cards-grid">
                        <div class="card">
                            <div class="chat-container">
                                <div class="chat-header">
                                    <div class="chat-avatar">MC</div>
                                    <div class="chat-info">
                                        <h3>Mar√≠a Contreras</h3>
                                        <p>Vendedora Premium ‚Ä¢ Inmuebles</p>
                                    </div>
                                </div>
                                <div class="chat-messages" id="chat-1">
                                    <div class="message received">
                                        Hola Juan, vi tu aviso de departamento en Providencia. Tengo una propiedad que podr√≠a interesarte.
                                        <div class="message-time">10:24 AM</div>
                                    </div>
                                    <div class="message sent">
                                        ¬°Hola Mar√≠a! Me interesa saber m√°s detalles. ¬øTiene estacionamiento y bodega?
                                        <div class="message-time">10:26 AM</div>
                                    </div>
                                    <div class="message received">
                                        S√≠, tiene ambos. Es un piso 10 con vista despejada. ¬øTe puedo enviar fotos y m√°s informaci√≥n?
                                        <div class="message-time">10:28 AM</div>
                                    </div>
                                </div>
                                <div class="chat-input-container">
                                    <input type="text" class="chat-input" placeholder="Escribe un mensaje..." data-chat-id="1">
                                    <div class="chat-actions">
                                        <button class="chat-action camera">üì∑</button>
                                        <button class="chat-action attach">üìé</button>
                                        <button class="chat-action send" data-chat-id="1">‚û§</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="chat-container">
                                <div class="chat-header">
                                    <div class="chat-avatar">RP</div>
                                    <div class="chat-info">
                                        <h3>Roberto P√©rez</h3>
                                        <p>Vendedor Free ‚Ä¢ Autom√≥viles</p>
                                    </div>
                                </div>
                                <div class="chat-messages" id="chat-2">
                                    <div class="message received">
                                        Buenos d√≠as, respecto a tu b√∫squeda de SUV familiar, tengo un modelo 2021 con 25.000 km.
                                        <div class="message-time">Ayer, 15:42</div>
                                    </div>
                                    <div class="message sent">
                                        ¬°Hola Roberto! ¬øPodr√≠as enviarme m√°s detalles y fotos del veh√≠culo?
                                        <div class="message-time">Ayer, 16:05</div>
                                    </div>
                                    <div class="message received">
                                        Claro, te enviar√© la informaci√≥n completa. ¬øTe interesa agendar una visita?
                                        <div class="message-time">Ayer, 16:10</div>
                                    </div>
                                </div>
                                <div class="chat-input-container">
                                    <input type="text" class="chat-input" placeholder="Escribe un mensaje..." data-chat-id="2">
                                    <div class="chat-actions">
                                        <button class="chat-action camera">üì∑</button>
                                        <button class="chat-action attach">üìé</button>
                                        <button class="chat-action send" data-chat-id="2">‚û§</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Ads List View -->
                <section id="ads-view" class="view">
                    <h1 class="section-title">üîç Explorar Avisos</h1>
                    
                    <div class="filters-container">
                        <h2 class="filters-title">üîé Filtros de B√∫squeda</h2>
                        <div class="filters-grid">
                            <div class="form-group">
                                <label for="category">Categor√≠a</label>
                                <select id="category" class="form-control">
                                    <option value="all">Todas las categor√≠as</option>
                                    <option value="inmuebles">Inmuebles</option>
                                    <option value="automoviles">Autom√≥viles</option>
                                    <option value="motos">Motos</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="currency">Moneda</label>
                                <select id="currency" class="form-control">
                                    <option>CLP (Pesos Chilenos)</option>
                                    <option>USD (D√≥lares)</option>
                                    <option>UF (Unidades de Fomento)</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="location">Ubicaci√≥n</label>
                                <input type="text" id="location" class="form-control" placeholder="Regi√≥n, ciudad...">
                            </div>
                            
                            <div class="form-group">
                                <label for="subscription">Tipo de Suscripci√≥n</label>
                                <select id="subscription" class="form-control">
                                    <option>Todos los vendedores</option>
                                    <option>Solo Premium</option>
                                    <option>Gratis y Premium</option>
                                </select>
                            </div>
                        </div>
                        
                        <div id="category-filters">
                            <!-- Inmuebles Filters -->
                            <div id="inmuebles-filters" class="form-row" style="display: none;">
                                <div class="form-group">
                                    <label for="property-type">Tipo de Propiedad</label>
                                    <select id="property-type" class="form-control">
                                        <option>Todos</option>
                                        <option>Departamento</option>
                                        <option>Casa</option>
                                        <option>Oficina</option>
                                        <option>Local Comercial</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="bedrooms">Dormitorios</label>
                                    <select id="bedrooms" class="form-control">
                                        <option>Cualquiera</option>
                                        <option>1+</option>
                                        <option>2+</option>
                                        <option>3+</option>
                                        <option>4+</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="bathrooms">Ba√±os</label>
                                    <select id="bathrooms" class="form-control">
                                        <option>Cualquiera</option>
                                        <option>1+</option>
                                        <option>2+</option>
                                        <option>3+</option>
                                    </select>
                                </div>
                            </div>
                            
                            <!-- Autom√≥viles Filters -->
                            <div id="automoviles-filters" class="form-row" style="display: none;">
                                <div class="form-group">
                                    <label for="car-type">Tipo de Veh√≠culo</label>
                                    <select id="car-type" class="form-control">
                                        <option>Todos</option>
                                        <option>Sed√°n</option>
                                        <option>SUV</option>
                                        <option>Hatchback</option>
                                        <option>Pick-up</option>
                                        <option>Deportivo</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="brand">Marca</label>
                                    <select id="brand" class="form-control">
                                        <option>Todas</option>
                                        <option>Toyota</option>
                                        <option>Nissan</option>
                                        <option>Chevrolet</option>
                                        <option>Hyundai</option>
                                        <option>Kia</option>
                                        <option>Ford</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="year">A√±o</label>
                                    <select id="year" class="form-control">
                                        <option>Cualquiera</option>
                                        <option>2020+</option>
                                        <option>2018+</option>
                                        <option>2015+</option>
                                        <option>Antes de 2015</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="mileage">Kilometraje</label>
                                    <select id="mileage" class="form-control">
                                        <option>Cualquiera</option>
                                        <option>Menos de 30.000 km</option>
                                        <option>30.000 - 60.000 km</option>
                                        <option>60.000 - 100.000 km</option>
                                        <option>M√°s de 100.000 km</option>
                                    </select>
                                </div>
                            </div>
                            
                            <!-- Motos Filters -->
                            <div id="motos-filters" class="form-row" style="display: none;">
                                <div class="form-group">
                                    <label for="motorcycle-type">Tipo de Moto</label>
                                    <select id="motorcycle-type" class="form-control">
                                        <option>Todas</option>
                                        <option>Deportiva</option>
                                        <option>Naked</option>
                                        <option>Touring</option>
                                        <option>Trail</option>
                                        <option>Scooter</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="motorcycle-brand">Marca</label>
                                    <select id="motorcycle-brand" class="form-control">
                                        <option>Todas</option>
                                        <option>Honda</option>
                                        <option>Yamaha</option>
                                        <option>Suzuki</option>
                                        <option>Kawasaki</option>
                                        <option>Ducati</option>
                                        <option>BMW</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="engine">Cilindrada</label>
                                    <select id="engine" class="form-control">
                                        <option>Cualquiera</option>
                                        <option>Menos de 250cc</option>
                                        <option>250cc - 500cc</option>
                                        <option>500cc - 750cc</option>
                                        <option>M√°s de 750cc</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="motorcycle-year">A√±o</label>
                                    <select id="motorcycle-year" class="form-control">
                                        <option>Cualquiera</option>
                                        <option>2021+</option>
                                        <option>2019+</option>
                                        <option>2017+</option>
                                        <option>Antes de 2017</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <button class="btn btn-primary btn-block" id="apply-filters">Aplicar Filtros</button>
                    </div>
                    
                    <div class="cards-grid">
                        <!-- Los anuncios se mantienen igual -->
                        <div class="card">
                            <div class="card-img">
                                <img src="https://placehold.co/600x400?text=Oficina+Las+Condes" alt="Oficina">
                            </div>
                            <div class="card-content">
                                <span class="card-category category-inmuebles">Inmuebles</span>
                                <h3 class="card-title">Oficina Ejecutiva en Las Condes</h3>
                                <p class="card-desc">Busco oficina de m√≠nimo 80m¬≤, con 2 ba√±os, cocina peque√±a y estacionamiento para 2 veh√≠culos en sector oriente de Santiago.</p>
                                <div class="card-footer">
                                    <div class="card-price">UF 4.500 - 5.800</div>
                                    <div class="card-actions">
                                        <button class="btn btn-sm btn-outline view-detail-btn" data-ad-id="4">Ver Detalles</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card-img">
                                <img src="https://placehold.co/600x400?text=Casa+√ëu√±oa" alt="Casa">
                            </div>
                            <div class="card-content">
                                <span class="card-category category-inmuebles">Inmuebles</span>
                                <h3 class="card-title">Casa Familiar en √ëu√±oa</h3>
                                <p class="card-desc">Necesito casa con 4 dormitorios, 3 ba√±os, piscina, jard√≠n y estacionamiento para 3 autos en comuna de √ëu√±oa o Providencia.</p>
                                <div class="card-footer">
                                    <div class="card-price">UF 8.000 - 10.000</div>
                                    <div class="card-actions">
                                        <button class="btn btn-sm btn-outline view-detail-btn" data-ad-id="5">Ver Detalles</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card-img">
                                <img src="https://placehold.co/600x400?text=Pickup+2022" alt="Pickup">
                            </div>
                            <div class="card-content">
                                <span class="card-category category-automoviles">Autom√≥viles</span>
                                <h3 class="card-title">Pick-up Doble Cabina 4x4</h3>
                                <p class="card-desc">Busco pickup doble cabina, 4x4, diesel, a√±o 2021 o 2022, con menos de 20.000 km y en perfecto estado mec√°nico.</p>
                                <div class="card-footer">
                                    <div class="card-price">USD 35.000 - 42.000</div>
                                    <div class="card-actions">
                                        <button class="btn btn-sm btn-outline view-detail-btn" data-ad-id="6">Ver Detalles</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card-img">
                                <img src="https://placehold.co/600x400?text=Moto+Touring" alt="Moto Touring">
                            </div>
                            <div class="card-content">
                                <span class="card-category category-motos">Motos</span>
                                <h3 class="card-title">Moto Touring para Larga Distancia</h3>
                                <p class="card-desc">Busco moto touring tipo BMW R1250GS o similar, modelo 2020+, con maletas, parabrisas alto y m√°ximo 15.000 km.</p>
                                <div class="card-footer">
                                    <div class="card-price">CLP 15.000.000 - 18.000.000</div>
                                    <div class="card-actions">
                                        <button class="btn btn-sm btn-outline view-detail-btn" data-ad-id="7">Ver Detalles</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Profile View -->
                <section id="profile-view" class="view">
                    <h1 class="section-title">üë§ Mi Perfil</h1>
                    
                    <div class="profile-header">
                        <div class="profile-avatar">JS</div>
                        <div class="profile-info">
                            <h1>Juan Soto M√©ndez</h1>
                            <p>Vendedor Premium ‚Ä¢ Especializado en Inmuebles</p>
                            <div class="profile-stats">
                                <div class="profile-stat">
                                    <span class="value">24</span>
                                    <span class="label">Avisos Publicados</span>
                                </div>
                                <div class="profile-stat">
                                    <span class="value">18</span>
                                    <span class="label">Propuestas Enviadas</span>
                                </div>
                                <div class="profile-stat">
                                    <span class="value">12</span>
                                    <span class="label">Negocios Exitosos</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 350px; gap: 24px; margin-bottom: 32px;">
                        <div>
                            <div class="card" style="margin-bottom: 24px;">
                                <div class="card-content">
                                    <h3 style="margin-bottom: 20px; display: flex; align-items: center;">
                                        <span style="margin-right: 10px;">‚öôÔ∏è</span> Informaci√≥n Personal
                                    </h3>
                                    
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="full-name">Nombre Completo</label>
                                            <input type="text" id="full-name" class="form-control" value="Juan Carlos Soto M√©ndez">
                                        </div>
                                        
                                        <div class="form-group">
                                            <label for="email">Email</label>
                                            <input type="email" id="email" class="form-control" value="juan.soto@email.com">
                                        </div>
                                    </div>
                                    
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="phone">Tel√©fono</label>
                                            <input type="tel" id="phone" class="form-control" value="+56 9 1234 5678">
                                        </div>
                                        
                                        <div class="form-group">
                                            <label for="profile-location">Ubicaci√≥n</label>
                                            <input type="text" id="profile-location" class="form-control" value="Santiago, Chile">
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="bio">Biograf√≠a Profesional</label>
                                        <textarea id="bio" class="form-control" rows="4">Vendedor especializado en propiedades de alto standing en las comunas oriente de Santiago. M√°s de 10 a√±os de experiencia en el mercado inmobiliario chileno. Miembro de la C√°mara Chilena de la Construcci√≥n.</textarea>
                                    </div>
                                    
                                    <button class="btn btn-primary btn-block" id="save-profile-btn">Guardar Cambios</button>
                                </div>
                            </div>
                            
                            <div class="card">
                                <div class="card-content">
                                    <h3 style="margin-bottom: 20px; display: flex; align-items: center;">
                                        <span style="margin-right: 10px;">üìä</span> Historial de Actividad
                                    </h3>
                                    
                                    <div class="table-container">
                                        <table>
                                            <thead>
                                                <tr>
                                                    <th>Fecha</th>
                                                    <th>Actividad</th>
                                                    <th>Estado</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>05/02/2026</td>
                                                    <td>Propuesta enviada para departamento en Vitacura</td>
                                                    <td><span class="status-badge status-negotiating">Negociando</span></td>
                                                </tr>
                                                <tr>
                                                    <td>04/02/2026</td>
                                                    <td>Nuevo aviso publicado: Casa en √ëu√±oa</td>
                                                    <td><span class="status-badge status-accepted">Activo</span></td>
                                                </tr>
                                                <tr>
                                                    <td>03/02/2026</td>
                                                    <td>Propuesta aceptada para oficina en Las Condes</td>
                                                    <td><span class="status-badge status-accepted">Aceptada</span></td>
                                                </tr>
                                                <tr>
                                                    <td>01/02/2026</td>
                                                    <td>Nueva propuesta recibida para departamento en Providencia</td>
                                                    <td><span class="status-badge status-pending">Pendiente</span></td>
                                                </tr>
                                                <tr>
                                                    <td>30/01/2026</td>
                                                    <td>Chat iniciado con Mar√≠a Contreras</td>
                                                    <td><span class="status-badge status-accepted">Activo</span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <div class="card" style="margin-bottom: 24px;">
                                <div class="card-content">
                                    <h3 style="margin-bottom: 20px; display: flex; align-items: center;">
                                        <span style="margin-right: 10px;">‚≠ê</span> Mi Suscripci√≥n
                                    </h3>
                                    
                                    <div style="text-align: center; padding: 20px; background: rgba(114, 9, 183, 0.08); border-radius: 12px; margin-bottom: 20px;">
                                        <div style="font-size: 3rem; margin-bottom: 12px;">‚≠ê</div>
                                        <h4 style="margin-bottom: 8px;">Plan Premium</h4>
                                        <p style="color: var(--gray); margin-bottom: 16px;">Vencimiento: 5 de agosto de 2026</p>
                                        <div style="font-size: 1.8rem; font-weight: 700; color: var(--secondary); margin-bottom: 20px;">USD $19.90/mes</div>
                                        <button class="btn btn-outline" id="manage-subscription-btn" style="width: 100%;">Administrar Suscripci√≥n</button>
                                    </div>
                                    
                                    <h4 style="margin-bottom: 16px; display: flex; align-items: center;">
                                        <span style="margin-right: 8px;">‚úÖ</span> Beneficios Premium
                                    </h4>
                                    <ul style="padding-left: 20px; margin-bottom: 20px;">
                                        <li style="margin-bottom: 8px;">Acceso a informaci√≥n completa de contactos</li>
                                        <li style="margin-bottom: 8px;">Ver presupuestos exactos y direcciones</li>
                                        <li style="margin-bottom: 8px;">Enviar propuestas ilimitadas</li>
                                        <li style="margin-bottom: 8px;">Destacar tus propuestas</li>
                                        <li>Soporte prioritario 24/7</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="card">
                                <div class="card-content">
                                    <h3 style="margin-bottom: 20px; display: flex; align-items: center;">
                                        <span style="margin-right: 10px;">üéØ</span> Preferencias de Categor√≠as
                                    </h3>
                                    
                                    <div style="display: flex; flex-direction: column; gap: 12px;">
                                        <label style="display: flex; align-items: center; cursor: pointer;">
                                            <input type="checkbox" checked style="width: 18px; height: 18px; margin-right: 10px;">
                                            <span>Inmuebles</span>
                                        </label>
                                        <label style="display: flex; align-items: center; cursor: pointer;">
                                            <input type="checkbox" style="width: 18px; height: 18px; margin-right: 10px;">
                                            <span>Autom√≥viles</span>
                                        </label>
                                        <label style="display: flex; align-items: center; cursor: pointer;">
                                            <input type="checkbox" style="width: 18px; height: 18px; margin-right: 10px;">
                                            <span>Motos</span>
                                        </label>
                                    </div>
                                    
                                    <button class="btn btn-primary btn-block" id="save-preferences-btn" style="margin-top: 24px;">Guardar Preferencias</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Admin Panel View -->
                <section id="admin-view" class="view">
                    <h1 class="section-title">üõ†Ô∏è Panel de Administraci√≥n</h1>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div style="display: flex; align-items: center;">
                                <div class="icon primary">üë•</div>
                                <div>
                                    <div class="label">Total Usuarios</div>
                                    <div class="value">1,248</div>
                                    <div class="change positive">‚Üë 42 nuevos este mes</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div style="display: flex; align-items: center;">
                                <div class="icon secondary">üì¢</div>
                                <div>
                                    <div class="label">Avisos Activos</div>
                                    <div class="value">842</div>
                                    <div class="change positive">‚Üë 68 nuevos este mes</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div style="display: flex; align-items: center;">
                                <div class="icon success">‚≠ê</div>
                                <div>
                                    <div class="label">Usuarios Premium</div>
                                    <div class="value">312</div>
                                    <div class="change positive">‚Üë 24 nuevos este mes</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div style="display: flex; align-items: center;">
                                <div class="icon warning">üìä</div>
                                <div>
                                    <div class="label">Propuestas este Mes</div>
                                    <div class="value">1,856</div>
                                    <div class="change positive">‚Üë 32.4% vs mes anterior</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 24px; margin-bottom: 32px;">
                        <div class="card">
                            <div class="card-content">
                                <h3 style="margin-bottom: 20px; display: flex; align-items: center;">
                                    <span style="margin-right: 10px;">üë•</span> Gesti√≥n de Usuarios
                                </h3>
                                
                                <div class="table-container">
                                    <table>
                                        <thead>
                                            <tr>
                                                <th>Usuario</th>
                                                <th>Rol</th>
                                                <th>Suscripci√≥n</th>
                                                <th>Acciones</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Juan Soto</td>
                                                <td>Vendedor</td>
                                                <td><span class="status-badge status-accepted">Premium</span></td>
                                                <td class="table-actions">
                                                    <button class="btn btn-sm btn-outline edit-user-btn">‚úèÔ∏è</button>
                                                    <button class="btn btn-sm btn-outline delete-user-btn">üóëÔ∏è</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Mar√≠a Contreras</td>
                                                <td>Vendedora</td>
                                                <td><span class="status-badge status-pending">Free</span></td>
                                                <td class="table-actions">
                                                    <button class="btn btn-sm btn-outline edit-user-btn">‚úèÔ∏è</button>
                                                    <button class="btn btn-sm btn-outline delete-user-btn">üóëÔ∏è</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Roberto P√©rez</td>
                                                <td>Comprador</td>
                                                <td><span class="status-badge status-accepted">Premium</span></td>
                                                <td class="table-actions">
                                                    <button class="btn btn-sm btn-outline edit-user-btn">‚úèÔ∏è</button>
                                                    <button class="btn btn-sm btn-outline delete-user-btn">üóëÔ∏è</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Ana L√≥pez</td>
                                                <td>Administrador</td>
                                                <td><span class="status-badge status-accepted">Premium</span></td>
                                                <td class="table-actions">
                                                    <button class="btn btn-sm btn-outline edit-user-btn">‚úèÔ∏è</button>
                                                    <button class="btn btn-sm btn-outline delete-user-btn">üóëÔ∏è</button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                
                                <button class="btn btn-primary btn-block" id="view-all-users-btn" style="margin-top: 16px;">Ver Todos los Usuarios</button>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card-content">
                                <h3 style="margin-bottom: 20px; display: flex; align-items: center;">
                                    <span style="margin-right: 10px;">üì¢</span> Gesti√≥n de Avisos
                                </h3>
                                
                                <div class="table-container">
                                    <table>
                                        <thead>
                                            <tr>
                                                <th>T√≠tulo</th>
                                                <th>Categor√≠a</th>
                                                <th>Usuario</th>
                                                <th>Estado</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Departamento en Providencia</td>
                                                <td>Inmuebles</td>
                                                <td>Juan Soto</td>
                                                <td><span class="status-badge status-accepted">Activo</span></td>
                                            </tr>
                                            <tr>
                                                <td>SUV Familiar 7 pasajeros</td>
                                                <td>Autom√≥viles</td>
                                                <td>Mar√≠a Contreras</td>
                                                <td><span class="status-badge status-accepted">Activo</span></td>
                                            </tr>
                                            <tr>
                                                <td>Moto Deportiva 600cc</td>
                                                <td>Motos</td>
                                                <td>Roberto P√©rez</td>
                                                <td><span class="status-badge status-rejected">Rechazado</span></td>
                                            </tr>
                                            <tr>
                                                <td>Oficina Ejecutiva Las Condes</td>
                                                <td>Inmuebles</td>
                                                <td>Ana L√≥pez</td>
                                                <td><span class="status-badge status-pending">Pendiente</span></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                
                                <button class="btn btn-primary btn-block" id="view-all-ads-btn" style="margin-top: 16px;">Ver Todos los Avisos</button>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>
        
        <!-- Modal para crear anuncio -->
        <div id="create-ad-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title">Crear Nuevo Aviso</h3>
                    <button class="modal-close" id="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="ad-category">Categor√≠a</label>
                        <select id="ad-category" class="form-control">
                            <option value="inmuebles">Inmuebles</option>
                            <option value="automoviles">Autom√≥viles</option>
                            <option value="motos">Motos</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="ad-title">T√≠tulo del Aviso</label>
                        <input type="text" id="ad-title" class="form-control" placeholder="Ej: Departamento en Providencia con 2 dormitorios">
                    </div>
                    
                    <div class="form-group">
                        <label for="ad-description">Descripci√≥n Detallada</label>
                        <textarea id="ad-description" class="form-control" rows="4" placeholder="Describe tus necesidades espec√≠ficas, caracter√≠sticas importantes, etc."></textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="ad-currency">Moneda</label>
                            <select id="ad-currency" class="form-control">
                                <option value="clp">CLP (Pesos Chilenos)</option>
                                <option value="usd" selected>USD (D√≥lares)</option>
                                <option value="uf">UF (Unidades de Fomento)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="ad-budget-min">Presupuesto M√≠nimo</label>
                            <input type="number" id="ad-budget-min" class="form-control" placeholder="M√≠nimo">
                        </div>
                        
                        <div class="form-group">
                            <label for="ad-budget-max">Presupuesto M√°ximo</label>
                            <input type="number" id="ad-budget-max" class="form-control" placeholder="M√°ximo">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="ad-location">Ubicaci√≥n Preferida</label>
                        <input type="text" id="ad-location" class="form-control" placeholder="Regi√≥n, ciudad, comuna espec√≠fica">
                    </div>
                    
                    <button class="btn btn-primary btn-block" id="publish-ad-btn">Publicar Aviso</button>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-outline" id="cancel-modal">Cancelar</button>
                </div>
            </div>
        </div>
        
        <!-- Panel de notificaciones -->
        <div class="notifications-panel" id="notifications-panel">
            <div class="notifications-header">
                <h3>Notificaciones</h3>
                <button class="mark-all-read" id="mark-all-read">Marcar todo como le√≠do</button>
            </div>
            <ul class="notifications-list">
                <li class="notification-item unread">
                    <div class="notification-icon">üì®</div>
                    <div class="notification-content">
                        <h4>Nueva propuesta recibida</h4>
                        <p>Mar√≠a Contreras ha enviado una propuesta para tu aviso de departamento en Providencia</p>
                        <div class="notification-time">Hace 2 horas</div>
                    </div>
                </li>
                <li class="notification-item unread">
                    <div class="notification-icon">üí¨</div>
                    <div class="notification-content">
                        <h4>Nuevo mensaje</h4>
                        <p>Roberto P√©rez te ha enviado un mensaje sobre tu b√∫squeda de SUV familiar</p>
                        <div class="notification-time">Hace 5 horas</div>
                    </div>
                </li>
                <li class="notification-item">
                    <div class="notification-icon">‚úÖ</div>
                    <div class="notification-content">
                        <h4>Propuesta aceptada</h4>
                        <p>Tu propuesta para el departamento en Las Condes ha sido aceptada</p>
                        <div class="notification-time">Ayer</div>
                    </div>
                </li>
            </ul>
        </div>
        
        <!-- Panel de mensajes -->
        <div class="messages-panel" id="messages-panel">
            <div class="messages-header">
                <h3>Mensajes</h3>
                <button class="mark-all-read" id="mark-all-messages-read">Marcar todo como le√≠do</button>
            </div>
            <ul class="messages-list">
                <li class="message-item unread">
                    <div class="message-avatar">MC</div>
                    <div class="message-content">
                        <h4>Mar√≠a Contreras</h4>
                        <p>Hola Juan, vi tu aviso de departamento en Providencia. Tengo una propiedad que podr√≠a interesarte.</p>
                        <div class="message-time">Hace 2 horas</div>
                    </div>
                </li>
                <li class="message-item">
                    <div class="message-avatar">RP</div>
                    <div class="message-content">
                        <h4>Roberto P√©rez</h4>
                        <p>Buenos d√≠as, respecto a tu b√∫squeda de SUV familiar, tengo un modelo 2021 con 25.000 km.</p>
                        <div class="message-time">Ayer</div>
                    </div>
                </li>
            </ul>
        </div>
        
        <!-- Toast Notifications -->
        <div class="toast-container" id="toast-container"></div>
    </div>

    <script>
        // DOM Elements
        const userMenu = document.getElementById('user-menu');
        const userDropdown = document.getElementById('user-dropdown');
        const notificationIcon = document.getElementById('notification-icon');
        const messageIcon = document.getElementById('message-icon');
        const notificationsPanel = document.getElementById('notifications-panel');
        const messagesPanel = document.getElementById('messages-panel');
        const navLinks = document.querySelectorAll('.nav-link');
        const views = document.querySelectorAll('.view');
        const createAdModal = document.getElementById('create-ad-modal');
        const createAdButton = document.getElementById('create-ad-btn');
        const closeModalBtn = document.getElementById('close-modal');
        const cancelModalBtn = document.getElementById('cancel-modal');
        const publishAdBtn = document.getElementById('publish-ad-btn');
        const upgradeBtn = document.getElementById('upgrade-btn');
        const upgradePlanBtn = document.getElementById('upgrade-plan-btn');
        const helpBtn = document.getElementById('help-btn');
        const logoutBtn = document.getElementById('logout-btn');
        const saveProfileBtn = document.getElementById('save-profile-btn');
        const savePreferencesBtn = document.getElementById('save-preferences-btn');
        const manageSubscriptionBtn = document.getElementById('manage-subscription-btn');
        const applyFiltersBtn = document.getElementById('apply-filters');
        const viewDetailButtons = document.querySelectorAll('.view-detail-btn');
        const sendButtons = document.querySelectorAll('.chat-action.send');
        const chatInputs = document.querySelectorAll('.chat-input');
        const markAllReadBtn = document.getElementById('mark-all-read');
        const markAllMessagesReadBtn = document.getElementById('mark-all-messages-read');
        
        // Variables de estado
        let isUserDropdownOpen = false;
        let isNotificationsOpen = false;
        let isMessagesOpen = false;
        
        // Inicializar la aplicaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            console.log('MarketConnect Pro iniciado');
            
            // Configurar navegaci√≥n
            setupNavigation();
            
            // Configurar men√∫ de usuario
            setupUserMenu();
            
            // Configurar paneles de notificaciones y mensajes
            setupNotifications();
            
            // Configurar modal de creaci√≥n de anuncio
            setupAdModal();
            
            // Configurar funcionalidad de chat
            setupChat();
            
            // Configurar botones
            setupButtons();
            
            // Configurar filtros
            setupFilters();
            
            // Mostrar toast de bienvenida
            setTimeout(() => {
                showToast('Bienvenido', '¬°Hola Juan! Bienvenido a MarketConnect Pro', 'success');
            }, 1000);
        });
        
        // Configurar navegaci√≥n
        function setupNavigation() {
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const targetViewId = this.getAttribute('data-view');
                    console.log('Navegando a:', targetViewId);
                    
                    if (targetViewId) {
                        // Ocultar todas las vistas
                        views.forEach(view => {
                            view.classList.remove('active');
                        });
                        
                        // Mostrar vista objetivo
                        const targetView = document.getElementById(targetViewId);
                        if (targetView) {
                            targetView.classList.add('active');
                        }
                        
                        // Actualizar enlaces activos
                        navLinks.forEach(l => l.classList.remove('active'));
                        this.classList.add('active');
                        
                        // Cerrar men√∫s desplegables
                        closeAllDropdowns();
                        
                        // Mostrar toast de confirmaci√≥n
                        const viewNames = {
                            'dashboard-view': 'Dashboard',
                            'ads-view': 'Explorar Avisos',
                            'profile-view': 'Mi Perfil',
                            'admin-view': 'Panel de Administraci√≥n'
                        };
                        
                        showToast('Navegaci√≥n', `Has navegado a ${viewNames[targetViewId] || targetViewId}`, 'success');
                    }
                });
            });
        }
        
        // Configurar men√∫ de usuario
        function setupUserMenu() {
            if (userMenu) {
                userMenu.addEventListener('click', function(e) {
                    e.stopPropagation();
                    
                    // Alternar men√∫ de usuario
                    isUserDropdownOpen = !isUserDropdownOpen;
                    userDropdown.classList.toggle('active', isUserDropdownOpen);
                    
                    // Cerrar otros paneles
                    closeOtherPanels('user');
                });
            }
            
            // Cerrar men√∫ de usuario al hacer clic fuera
            document.addEventListener('click', function(e) {
                if (isUserDropdownOpen && 
                    !userMenu.contains(e.target) && 
                    !userDropdown.contains(e.target)) {
                    closeUserDropdown();
                }
            });
        }
        
        // Configurar paneles de notificaciones y mensajes
        function setupNotifications() {
            // Panel de notificaciones
            if (notificationIcon) {
                notificationIcon.addEventListener('click', function(e) {
                    e.stopPropagation();
                    
                    // Alternar panel de notificaciones
                    isNotificationsOpen = !isNotificationsOpen;
                    notificationsPanel.classList.toggle('active', isNotificationsOpen);
                    
                    // Cerrar otros paneles
                    closeOtherPanels('notifications');
                    
                    // Marcar notificaciones como le√≠das
                    if (isNotificationsOpen) {
                        markNotificationsAsRead();
                    }
                });
            }
            
            // Panel de mensajes
            if (messageIcon) {
                messageIcon.addEventListener('click', function(e) {
                    e.stopPropagation();
                    
                    // Alternar panel de mensajes
                    isMessagesOpen = !isMessagesOpen;
                    messagesPanel.classList.toggle('active', isMessagesOpen);
                    
                    // Cerrar otros paneles
                    closeOtherPanels('messages');
                    
                    // Marcar mensajes como le√≠dos
                    if (isMessagesOpen) {
                        markMessagesAsRead();
                    }
                });
            }
            
            // Cerrar paneles al hacer clic fuera
            document.addEventListener('click', function(e) {
                if (isNotificationsOpen && 
                    !notificationIcon.contains(e.target) && 
                    !notificationsPanel.contains(e.target)) {
                    closeNotifications();
                }
                
                if (isMessagesOpen && 
                    !messageIcon.contains(e.target) && 
                    !messagesPanel.contains(e.target)) {
                    closeMessages();
                }
            });
            
            // Bot√≥n "Marcar todo como le√≠do" en notificaciones
            if (markAllReadBtn) {
                markAllReadBtn.addEventListener('click', function() {
                    markNotificationsAsRead();
                    showToast('Notificaciones', 'Todas las notificaciones han sido marcadas como le√≠das', 'success');
                });
            }
            
            // Bot√≥n "Marcar todo como le√≠do" en mensajes
            if (markAllMessagesReadBtn) {
                markAllMessagesReadBtn.addEventListener('click', function() {
                    markMessagesAsRead();
                    showToast('Mensajes', 'Todos los mensajes han sido marcadas como le√≠dos', 'success');
                });
            }
        }
        
        // Configurar modal de creaci√≥n de anuncio
        function setupAdModal() {
            // Abrir modal
            if (createAdButton) {
                createAdButton.addEventListener('click', function() {
                    createAdModal.classList.add('active');
                    document.body.style.overflow = 'hidden';
                });
            }
            
            // Cerrar modal
            if (closeModalBtn) {
                closeModalBtn.addEventListener('click', function() {
                    createAdModal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                });
            }
            
            if (cancelModalBtn) {
                cancelModalBtn.addEventListener('click', function() {
                    createAdModal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                    showToast('Cancelado', 'La creaci√≥n del aviso ha sido cancelada', 'warning');
                });
            }
            
            // Cerrar modal al hacer clic fuera
            createAdModal.addEventListener('click', function(e) {
                if (e.target === createAdModal) {
                    createAdModal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
            });
            
            // Publicar anuncio
            if (publishAdBtn) {
                publishAdBtn.addEventListener('click', function() {
                    const adTitle = document.getElementById('ad-title');
                    const adDescription = document.getElementById('ad-description');
                    
                    if (!adTitle.value.trim() || !adDescription.value.trim()) {
                        showToast('Error', 'Por favor completa todos los campos obligatorios', 'error');
                        return;
                    }
                    
                    createAdModal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                    
                    // Limpiar formulario
                    adTitle.value = '';
                    adDescription.value = '';
                    document.getElementById('ad-budget-min').value = '';
                    document.getElementById('ad-budget-max').value = '';
                    document.getElementById('ad-location').value = '';
                    
                    showToast('Aviso Publicado', 'Tu aviso ha sido publicado exitosamente', 'success');
                });
            }
        }
        
        // Configurar funcionalidad de chat
        function setupChat() {
            // Enviar mensaje
            function sendMessage(input) {
                const messageText = input.value.trim();
                const chatId = input.getAttribute('data-chat-id');
                const chatMessages = document.getElementById(`chat-${chatId}`);
                
                if (!messageText || !chatMessages) return;
                
                // Crear elemento de mensaje
                const messageDiv = document.createElement('div');
                messageDiv.className = 'message sent';
                messageDiv.innerHTML = `
                    ${messageText}
                    <div class="message-time">${getCurrentTime()}</div>
                `;
                
                // Agregar al chat
                chatMessages.appendChild(messageDiv);
                
                // Limpiar input
                input.value = '';
                
                // Auto-scroll al final
                chatMessages.scrollTop = chatMessages.scrollHeight;
                
                // Simular respuesta despu√©s de un retraso
                setTimeout(() => {
                    const responseDiv = document.createElement('div');
                    responseDiv.className = 'message received';
                    responseDiv.innerHTML = `
                        ¬°Gracias por tu mensaje! Revisar√© tu propuesta y te contactar√© pronto.
                        <div class="message-time">${getCurrentTime()}</div>
                    `;
                    chatMessages.appendChild(responseDiv);
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                    
                    // Mostrar notificaci√≥n
                    showToast('Nuevo Mensaje', 'Has recibido una respuesta en el chat', 'success');
                }, 1000);
                
                showToast('Mensaje Enviado', 'Tu mensaje ha sido enviado exitosamente', 'success');
            }
            
            // Event listeners para inputs de chat
            chatInputs.forEach(input => {
                input.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter' && this.value.trim() !== '') {
                        sendMessage(this);
                    }
                });
            });
            
            // Event listeners para botones de enviar
            sendButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const chatId = button.getAttribute('data-chat-id');
                    const input = document.querySelector(`.chat-input[data-chat-id="${chatId}"]`);
                    if (input && input.value.trim() !== '') {
                        sendMessage(input);
                    }
                });
            });
            
            // Funci√≥n para obtener hora actual
            function getCurrentTime() {
                const now = new Date();
                return now.getHours() + ':' + now.getMinutes().toString().padStart(2, '0');
            }
        }
        
        // Configurar botones
        function setupButtons() {
            // Bot√≥n de actualizar a premium
            if (upgradeBtn) {
                upgradeBtn.addEventListener('click', function() {
                    showToast('Suscripci√≥n', 'Redirigiendo a la actualizaci√≥n de plan Premium', 'success');
                });
            }
            
            if (upgradePlanBtn) {
                upgradePlanBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    closeUserDropdown();
                    showToast('Suscripci√≥n', 'Redirigiendo a la actualizaci√≥n de plan Premium', 'success');
                });
            }
            
            // Bot√≥n de ayuda
            if (helpBtn) {
                helpBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    closeUserDropdown();
                    showToast('Ayuda', 'Redirigiendo al centro de ayuda', 'info');
                });
            }
            
            // Bot√≥n de cerrar sesi√≥n
            if (logoutBtn) {
                logoutBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    closeUserDropdown();
                    showToast('Cerrar Sesi√≥n', 'Has cerrado sesi√≥n exitosamente', 'success');
                    // Aqu√≠ ir√≠a la l√≥gica real de cierre de sesi√≥n
                });
            }
            
            // Bot√≥n de guardar perfil
            if (saveProfileBtn) {
                saveProfileBtn.addEventListener('click', function() {
                    showToast('Perfil Actualizado', 'Tu informaci√≥n personal ha sido guardada exitosamente', 'success');
                });
            }
            
            // Bot√≥n de guardar preferencias
            if (savePreferencesBtn) {
                savePreferencesBtn.addEventListener('click', function() {
                    showToast('Preferencias Guardadas', 'Tus preferencias de categor√≠as han sido guardadas', 'success');
                });
            }
            
            // Bot√≥n de administrar suscripci√≥n
            if (manageSubscriptionBtn) {
                manageSubscriptionBtn.addEventListener('click', function() {
                    showToast('Suscripci√≥n', 'Redirigiendo a la gesti√≥n de suscripci√≥n', 'info');
                });
            }
            
            // Bot√≥n de aplicar filtros
            if (applyFiltersBtn) {
                applyFiltersBtn.addEventListener('click', function() {
                    showToast('Filtros Aplicados', 'Los filtros han sido aplicados a la b√∫squeda', 'success');
                });
            }
            
            // Botones de ver detalles
            viewDetailButtons.forEach(button => {
                button.addEventListener('click', function() {
                    showToast('Aviso Seleccionado', 'Redirigiendo al detalle del aviso', 'info');
                    // Aqu√≠ ir√≠a la l√≥gica para mostrar el detalle del aviso
                });
            });
        }
        
        // Configurar filtros
        function setupFilters() {
            const categorySelect = document.getElementById('category');
            const inmueblesFilters = document.getElementById('inmuebles-filters');
            const automovilesFilters = document.getElementById('automoviles-filters');
            const motosFilters = document.getElementById('motos-filters');
            
            if (categorySelect) {
                categorySelect.addEventListener('change', function() {
                    // Ocultar todos los filtros
                    if (inmueblesFilters) inmueblesFilters.style.display = 'none';
                    if (automovilesFilters) automovilesFilters.style.display = 'none';
                    if (motosFilters) motosFilters.style.display = 'none';
                    
                    // Mostrar filtros relevantes
                    if (this.value === 'inmuebles' && inmueblesFilters) {
                        inmueblesFilters.style.display = 'grid';
                    } else if (this.value === 'automoviles' && automovilesFilters) {
                        automovilesFilters.style.display = 'grid';
                    } else if (this.value === 'motos' && motosFilters) {
                        motosFilters.style.display = 'grid';
                    }
                });
                
                // Disparar evento change para establecer estado inicial
                categorySelect.dispatchEvent(new Event('change'));
            }
        }
        
        // Funciones de utilidad
        function closeUserDropdown() {
            isUserDropdownOpen = false;
            userDropdown.classList.remove('active');
        }
        
        function closeNotifications() {
            isNotificationsOpen = false;
            notificationsPanel.classList.remove('active');
        }
        
        function closeMessages() {
            isMessagesOpen = false;
            messagesPanel.classList.remove('active');
        }
        
        function closeAllDropdowns() {
            closeUserDropdown();
            closeNotifications();
            closeMessages();
        }
        
        function closeOtherPanels(except) {
            if (except !== 'user') closeUserDropdown();
            if (except !== 'notifications') closeNotifications();
            if (except !== 'messages') closeMessages();
        }
        
        function markNotificationsAsRead() {
            document.querySelectorAll('.notification-item.unread').forEach(item => {
                item.classList.remove('unread');
            });
            const badge = notificationIcon.querySelector('.notification-badge');
            if (badge) badge.textContent = '0';
        }
        
        function markMessagesAsRead() {
            document.querySelectorAll('.message-item.unread').forEach(item => {
                item.classList.remove('unread');
            });
            const badges = document.querySelectorAll('.notification-badge');
            if (badges.length > 1) badges[1].textContent = '0';
        }
        
        // Funci√≥n para mostrar toasts
        function showToast(title, message, type = 'success') {
            const toastContainer = document.getElementById('toast-container');
            if (!toastContainer) return;
            
            // Crear elemento toast
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            
            // Establecer icono basado en tipo
            let icon = '‚úÖ';
            if (type === 'error') icon = '‚ùå';
            if (type === 'warning') icon = '‚ö†Ô∏è';
            if (type === 'info') icon = '‚ÑπÔ∏è';
            
            toast.innerHTML = `
                <div style="margin-right: 16px;">
                    <i>${icon}</i>
                </div>
                <div class="toast-content">
                    <h4>${title}</h4>
                    <p>${message}</p>
                </div>
            `;
            
            // Agregar al contenedor
            toastContainer.appendChild(toast);
            
            // Auto-eliminar despu√©s de 3 segundos
            setTimeout(() => {
                toast.style.opacity = '0';
                toast.style.transform = 'translateX(400px)';
                setTimeout(() => {
                    if (toast.parentNode === toastContainer) {
                        toastContainer.removeChild(toast);
                    }
                }, 300);
            }, 3000);
        }
    </script>
</body>
</html>
